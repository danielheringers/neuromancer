(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";let t;var r,n,a=e.i(87433),l=e.i(44440);let s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),o=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,l.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:d,...c},u)=>(0,l.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:s("lucide",a),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,l.createElement)(e,t)),...Array.isArray(o)?o:[o]])),c=(e,t)=>{let r=(0,l.forwardRef)(({className:r,...n},a)=>(0,l.createElement)(d,{ref:a,iconNode:t,className:s(`lucide-${o(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=o(e),r},u=c("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),m=c("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=c("square-terminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]),x=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f=c("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function g({connected:e,workspace:t,version:r="v0.1.0-alpha"}){return(0,a.jsxs)("div",{className:"flex items-center justify-between h-10 bg-panel-bg border-b border-panel-border px-4 select-none shrink-0",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-terminal-green font-bold text-sm tracking-wide",children:"ALICIA"}),(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:r})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded bg-background/50",children:[(0,a.jsx)(f,{className:`w-2 h-2 ${e?"fill-terminal-green text-terminal-green status-pulse":"fill-terminal-red text-terminal-red"}`}),(0,a.jsx)("span",{className:"text-terminal-fg/70",children:e?"Connected":"Disconnected"})]}),(0,a.jsx)("span",{className:"text-muted-foreground/50",children:"|"}),(0,a.jsx)("span",{children:t})]})]})}let h=c("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),b=c("file-code-corner",[["path",{d:"M4 12.15V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-3.35",key:"1wthlu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 16-3 3 3 3",key:"331omg"}],["path",{d:"m9 22 3-3-3-3",key:"lsp7cz"}]]),y=c("folder-tree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),v=c("git-branch",[["path",{d:"M15 6a9 9 0 0 0-9 9V3",key:"1cii5b"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}]]),k=c("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),w=c("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),j=c("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),N=c("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),M=c("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),C=c("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),z=c("plug-zap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]),S=c("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),E=c("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),I=c("git-fork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]),$=c("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),A=c("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]),P=c("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),R={"read-only":{label:"Read Only",description:"Agent can only read files. All writes require explicit approval.",approvalPolicy:"on-request",sandboxMode:"read-only"},auto:{label:"Auto",description:"Agent can read/write within workspace. External actions need approval.",approvalPolicy:"on-request",sandboxMode:"workspace-write"},"full-access":{label:"Full",description:"Agent has unrestricted access. No approval prompts. Use with caution.",approvalPolicy:"never",sandboxMode:"danger-full-access"}},_=[{command:"/model",label:"Model",description:"Change model and reasoning effort",category:"model"},{command:"/models",label:"Models",description:"Open available models from Codex runtime",category:"model"},{command:"/approvals",label:"Approvals",description:"Configure approval policy",category:"config"},{command:"/permissions",label:"Permissions",description:"Set permission preset",category:"config"},{command:"/sandbox-add-read-dir",label:"Sandbox Add Dir",description:"Add readable directory to sandbox",category:"config"},{command:"/personality",label:"Personality",description:"Set agent personality",category:"config"},{command:"/experimental",label:"Experimental",description:"Toggle experimental features",category:"config"},{command:"/statusline",label:"Status Line",description:"Configure status line display",category:"config"},{command:"/new",label:"New Session",description:"Start a new session",category:"session"},{command:"/resume",label:"Resume",description:"Resume a previous session",category:"session"},{command:"/fork",label:"Fork",description:"Fork current or previous session",category:"session"},{command:"/rename",label:"Rename",description:"Rename current session",category:"session"},{command:"/compact",label:"Compact",description:"Compact conversation history",category:"session"},{command:"/plan",label:"Plan",description:"Ask agent to create a plan",category:"agent"},{command:"/collab",label:"Collab",description:"Collaborative mode with agent",category:"agent"},{command:"/agent",label:"Agent",description:"Switch agent mode",category:"agent"},{command:"/diff",label:"Diff",description:"Show current changes diff",category:"agent"},{command:"/review",label:"Review",description:"Request code review",category:"agent"},{command:"/mention",label:"Mention",description:"Mention a file or symbol",category:"agent"},{command:"/skills",label:"Skills",description:"List available skills",category:"agent"},{command:"/init",label:"Init",description:"Initialize project context",category:"agent"},{command:"/mcp",label:"MCP",description:"View MCP server status and tools",category:"debug"},{command:"/status",label:"Status",description:"Show system status",category:"debug"},{command:"/debug-config",label:"Debug Config",description:"Show current configuration",category:"debug"},{command:"/ps",label:"Processes",description:"Show running background tasks",category:"debug"},{command:"/apps",label:"Apps",description:"Manage connected apps",category:"debug"},{command:"/clean",label:"Clean",description:"Clean session data",category:"system"},{command:"/feedback",label:"Feedback",description:"Send feedback",category:"system"},{command:"/logout",label:"Logout",description:"Log out of current session",category:"system"},{command:"/quit",label:"Quit",description:"Exit Alicia",category:"system"},{command:"/exit",label:"Exit",description:"Exit Alicia",category:"system"}],L={"read-only":"text-terminal-blue",auto:"text-terminal-green","full-access":"text-terminal-red"},D={"read-only":$,auto:C,"full-access":A},q={modified:"text-terminal-blue",added:"text-terminal-green",deleted:"text-terminal-red"},W={modified:"M",added:"A",deleted:"D"};function O({state:e,modelLabel:t,sessionPid:r,runtimeState:n,onOpenPanel:l,onStartSession:s,onStopSession:o,onResumeSession:i,onForkSession:d}){let c=D[e.approvalPreset],p=e.mcpServers.filter(e=>"connected"===e.status),x=e.mcpServers.reduce((e,t)=>e+t.tools.length,0),f="running"===n||"starting"===n;return(0,a.jsxs)("div",{className:"w-64 bg-sidebar border-r border-panel-border flex flex-col shrink-0 overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-panel-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-lg bg-terminal-green/10 border border-terminal-green/20 flex items-center justify-center",children:(0,a.jsx)(u,{className:"w-5 h-5 text-terminal-green"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-terminal-fg",children:"Alicia Agent"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(N,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["PID ",r??"-"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(M,{className:"w-3 h-3 text-terminal-gold"}),(0,a.jsx)("span",{className:"capitalize",children:n})]})]}),(0,a.jsx)("div",{className:"mt-3 flex items-center gap-2",children:f?(0,a.jsxs)("button",{onClick:o,className:"flex items-center gap-1 rounded px-2 py-1 text-xs bg-terminal-red/15 text-terminal-red hover:bg-terminal-red/25",children:[(0,a.jsx)(P,{className:"w-3 h-3"}),"Stop"]}):(0,a.jsxs)("button",{onClick:s,className:"flex items-center gap-1 rounded px-2 py-1 text-xs bg-terminal-green/15 text-terminal-green hover:bg-terminal-green/25",children:[(0,a.jsx)(P,{className:"w-3 h-3"}),"Start"]})})]}),(0,a.jsxs)("div",{className:"p-3 border-b border-panel-border flex flex-col gap-1",children:[(0,a.jsxs)("button",{onClick:()=>l("model"),className:"flex items-center gap-2 px-2 py-1.5 rounded text-left w-full transition-colors hover:bg-[#b9bcc01c] group",children:[(0,a.jsx)(N,{className:"w-3.5 h-3.5 text-terminal-blue"}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Model"})}),(0,a.jsx)("span",{className:"text-[10px] text-terminal-fg/70 font-mono",children:t}),(0,a.jsx)(S,{className:"w-3 h-3 text-muted-foreground/30 group-hover:text-muted-foreground transition-colors"})]}),(0,a.jsxs)("button",{onClick:()=>l("permissions"),className:"flex items-center gap-2 px-2 py-1.5 rounded text-left w-full transition-colors hover:bg-[#b9bcc01c] group",children:[(0,a.jsx)(c,{className:`w-3.5 h-3.5 ${L[e.approvalPreset]}`}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Permissions"})}),(0,a.jsx)("span",{className:`text-[10px] ${L[e.approvalPreset]}`,children:R[e.approvalPreset].label}),(0,a.jsx)(S,{className:"w-3 h-3 text-muted-foreground/30 group-hover:text-muted-foreground transition-colors"})]}),(0,a.jsxs)("button",{onClick:()=>l("mcp"),className:"flex items-center gap-2 px-2 py-1.5 rounded text-left w-full transition-colors hover:bg-[#b9bcc01c] group",children:[(0,a.jsx)(z,{className:"w-3.5 h-3.5 text-terminal-purple"}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"MCP"})}),(0,a.jsxs)("span",{className:"text-[10px] text-terminal-fg/70",children:[p.length,"/",e.mcpServers.length]}),(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground/40",children:["(",x," tools)"]}),(0,a.jsx)(S,{className:"w-3 h-3 text-muted-foreground/30 group-hover:text-muted-foreground transition-colors"})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-1 mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w,{className:"w-3.5 h-3.5 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Sessions"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:i,className:"p-0.5 rounded hover:bg-[#b9bcc01c] text-muted-foreground/40 hover:text-muted-foreground transition-colors",title:"Resume session",children:(0,a.jsx)(E,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:d,className:"p-0.5 rounded hover:bg-[#b9bcc01c] text-muted-foreground/40 hover:text-muted-foreground transition-colors",title:"Fork session",children:(0,a.jsx)(I,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:s,className:"p-0.5 rounded hover:bg-[#b9bcc01c] text-muted-foreground/40 hover:text-muted-foreground transition-colors",title:"New session",children:(0,a.jsx)(m,{className:"w-3 h-3"})})]})]}),(0,a.jsx)("div",{className:"flex flex-col gap-0.5",children:e.sessions.map(e=>(0,a.jsxs)("button",{className:`flex items-center gap-2 px-2 py-1.5 rounded text-left w-full transition-colors ${e.active?"bg-sidebar-accent text-sidebar-accent-foreground":"text-muted-foreground hover:bg-[#b9bcc01c] hover:text-foreground"}`,children:[(0,a.jsx)("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${e.active?"bg-terminal-green":"bg-muted-foreground/30"}`}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("p",{className:"text-xs truncate",children:e.name})}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/60 shrink-0",children:e.time})]},e.id))})]}),(0,a.jsxs)("div",{className:"p-3 border-t border-panel-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-1 mb-2",children:[(0,a.jsx)(b,{className:"w-3.5 h-3.5 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Changes"}),(0,a.jsx)("span",{className:"ml-auto text-[10px] bg-terminal-blue/20 text-terminal-blue px-1.5 py-0.5 rounded",children:e.fileChanges.length})]}),(0,a.jsx)("div",{className:"flex flex-col gap-0.5",children:e.fileChanges.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 rounded text-xs hover:bg-[#b9bcc01c] transition-colors cursor-pointer",children:[(0,a.jsx)("span",{className:`text-[10px] font-bold w-3 ${q[e.status]}`,children:W[e.status]}),(0,a.jsx)("span",{className:"text-muted-foreground truncate",children:e.name})]},e.name))})]}),(0,a.jsxs)("div",{className:"p-3 border-t border-panel-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-1 mb-2",children:[(0,a.jsx)(y,{className:"w-3.5 h-3.5 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Project"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1.5 px-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(v,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"main"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(k,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"Rust + Next + Tauri"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(h,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Runtime: ",n]})]})]})]})]}),(0,a.jsx)("div",{className:"p-3 border-t border-panel-border",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 px-2 py-1.5 w-full rounded text-xs text-muted-foreground hover:bg-[#b9bcc01c] hover:text-foreground transition-colors",children:[(0,a.jsx)(j,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:"Settings"}),(0,a.jsx)("kbd",{className:"ml-auto text-[10px] px-1.5 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/60",children:","})]})})]})}let T=c("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),H=c("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),V=c("file-pen",[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]]),F=c("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),G=c("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),B=c("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),U=c("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),J=c("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Z=c("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),K=c("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),X=c("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Y=c("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Q=c("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),ee=c("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),et=c("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),er={percent:0,used:0,resetsIn:"n/a"};function en(e){let t=e.match(/^([0-9]+(?:\.[0-9]+)?)%\s+remaining\s+\(([0-9]+(?:\.[0-9]+)?)%\s+used\),\s+resets\s+in\s+(.+)$/i);return t?{percent:Math.max(0,Math.min(100,Number(t[1]))),used:Math.max(0,Number(t[2])),resetsIn:t[3].trim()}:{percent:Math.max(0,Math.min(100,Number(e.match(/([0-9]+(?:\.[0-9]+)?)%\s+remaining/i)?.[1]||0))),used:Math.max(0,Number(e.match(/\(([0-9]+(?:\.[0-9]+)?)%\s+used\)/i)?.[1]||0)),resetsIn:e.match(/resets\s+in\s+(.+)$/i)?.[1]?.trim()||"n/a"}}function ea({percent:e,color:t}){return(0,a.jsx)("div",{className:"h-1.5 flex-1 overflow-hidden rounded-full bg-background/80",children:(0,a.jsx)("div",{className:`h-full rounded-full transition-all duration-500 ${t}`,style:{width:`${Math.max(0,Math.min(100,e))}%`}})})}function el({icon:e,label:t,value:r,valueColor:n}){return(0,a.jsxs)("div",{className:"flex items-center gap-2 py-[3px]",children:[(0,a.jsx)(e,{className:"h-3 w-3 shrink-0 text-muted-foreground/50"}),(0,a.jsx)("span",{className:"w-24 shrink-0 text-[11px] text-muted-foreground/70",children:t}),(0,a.jsx)("span",{className:`truncate text-[11px] font-medium ${n||"text-terminal-fg"}`,children:r})]})}function es({data:e,timestamp:t}){let r=e.remainingWeek.percent>50?"bg-terminal-green":e.remainingWeek.percent>20?"bg-terminal-gold":"bg-terminal-red",n=e.remainingWeek.percent>50?"text-terminal-green":e.remainingWeek.percent>20?"text-terminal-gold":"text-terminal-red";return(0,a.jsxs)("div",{className:"w-full max-w-xl overflow-hidden rounded-lg border border-panel-border bg-panel-bg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-panel-border bg-terminal-bg/50 px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded border border-terminal-green/20 bg-terminal-green/15",children:(0,a.jsx)(J,{className:"h-3 w-3 text-terminal-green"})}),(0,a.jsx)("span",{className:"text-xs font-bold text-terminal-green",children:"/status"})]}),(0,a.jsx)("span",{className:"tabular-nums text-[10px] text-muted-foreground/40",children:t||""})]}),(0,a.jsxs)("div",{className:"px-3 py-2.5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-6",children:[(0,a.jsx)(el,{icon:N,label:"mode",value:e.mode,valueColor:"text-terminal-cyan"}),(0,a.jsx)(el,{icon:Z,label:"session",value:`#${e.sessionId} (pid ${e.pid})`}),(0,a.jsx)(el,{icon:v,label:"thread",value:e.thread||"n/a",valueColor:"text-muted-foreground/50"}),(0,a.jsx)(el,{icon:K,label:"model",value:e.model,valueColor:"text-terminal-purple"}),(0,a.jsx)(el,{icon:Q,label:"reasoning",value:e.reasoning,valueColor:"text-terminal-gold"}),(0,a.jsx)(el,{icon:$,label:"approval",value:e.approval,valueColor:"text-terminal-blue"}),(0,a.jsx)(el,{icon:X,label:"sandbox",value:e.sandbox,valueColor:"read-only"===e.sandbox?"text-terminal-green":"text-terminal-gold"}),(0,a.jsx)(el,{icon:Y,label:"web search",value:e.webSearch}),(0,a.jsx)(el,{icon:et,label:"limit id",value:e.limitId})]}),(0,a.jsxs)("div",{className:"mt-0.5 flex items-center gap-2 py-[3px]",children:[(0,a.jsx)(J,{className:"h-3 w-3 shrink-0 text-muted-foreground/50"}),(0,a.jsx)("span",{className:"w-24 shrink-0 text-[11px] text-muted-foreground/70",children:"workspace"}),(0,a.jsx)("span",{className:"truncate text-[11px] text-terminal-cyan",title:e.workspace,children:e.workspace})]}),(0,a.jsx)("div",{className:"my-2 border-t border-panel-border"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(h,{className:"h-3 w-3 text-muted-foreground/50"}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/70",children:"remaining 5h"})]}),(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground/50",children:["resets in ",e.remaining5h.resetsIn]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ea,{percent:e.remaining5h.percent,color:"bg-terminal-green"}),(0,a.jsxs)("span",{className:"w-16 text-right text-[10px] font-medium tabular-nums text-terminal-green",children:[e.remaining5h.percent,"%"]})]}),(0,a.jsxs)("span",{className:"pl-[18px] text-[9px] text-muted-foreground/40",children:[e.remaining5h.used,"% used"]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(ee,{className:"h-3 w-3 text-muted-foreground/50"}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/70",children:"remaining week"})]}),(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground/50",children:["resets in ",e.remainingWeek.resetsIn]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ea,{percent:e.remainingWeek.percent,color:r}),(0,a.jsxs)("span",{className:`w-16 text-right text-[10px] font-medium tabular-nums ${n}`,children:[e.remainingWeek.percent,"%"]})]}),(0,a.jsxs)("span",{className:"pl-[18px] text-[9px] text-muted-foreground/40",children:[e.remainingWeek.used,"% used"]})]})]})]})]})}function eo({snapshot:e,timestamp:t}){return(0,a.jsx)(es,{data:e,timestamp:t})}function ei({text:e}){let[t,r]=(0,l.useState)(!1);return(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)},className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground/50 hover:text-muted-foreground transition-colors",children:t?(0,a.jsx)(U,{className:"w-3.5 h-3.5 text-terminal-green"}):(0,a.jsx)(B,{className:"w-3.5 h-3.5"})})}function ed({code:e,language:t}){let r=e.split("\n");return(0,a.jsx)("div",{className:"text-xs leading-relaxed",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"text-muted-foreground/40 select-none w-8 text-right pr-3 shrink-0",children:t+1}),(0,a.jsx)("span",{className:"text-terminal-fg",children:e.split(/(\b(?:pub|fn|let|mut|use|mod|struct|impl|enum|if|else|for|while|return|async|await|const|type|interface|export|import|from|class|def|self)\b|"[^"]*"|'[^']*'|\b\d+\.?\d*\b|\/\/.*$|#.*$)/).map((e,t)=>/^(pub|fn|let|mut|use|mod|struct|impl|enum|if|else|for|while|return|async|await|const|type|interface|export|import|from|class|def|self)$/.test(e)?(0,a.jsx)("span",{className:"text-terminal-blue",children:e},t):/^"[^"]*"$/.test(e)||/^'[^']*'$/.test(e)?(0,a.jsx)("span",{className:"text-terminal-gold",children:e},t):/^\d+\.?\d*$/.test(e)?(0,a.jsx)("span",{className:"text-terminal-pink",children:e},t):/^\/\//.test(e)||/^#/.test(e)?(0,a.jsx)("span",{className:"text-terminal-comment italic",children:e},t):(0,a.jsx)("span",{children:e},t))})]},t))})}function ec({tool:e}){let t=Object.entries({search:F,edit:V,run:G}).find(([t])=>e.name.toLowerCase().includes(t))?.[1]||G;return(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded bg-background/50 border border-panel-border text-xs",children:[(0,a.jsx)(t,{className:"w-3.5 h-3.5 text-terminal-purple"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:e.name}),e.detail&&(0,a.jsx)("span",{className:"text-muted-foreground/50 truncate max-w-48",children:e.detail}),(0,a.jsx)("span",{className:"ml-auto",children:"running"===e.status?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-terminal-gold",children:[(0,a.jsx)("span",{className:"typing-dot w-1 h-1 rounded-full bg-terminal-gold inline-block"}),(0,a.jsx)("span",{className:"typing-dot w-1 h-1 rounded-full bg-terminal-gold inline-block"}),(0,a.jsx)("span",{className:"typing-dot w-1 h-1 rounded-full bg-terminal-gold inline-block"})]}):"done"===e.status?(0,a.jsx)(H,{className:"w-3.5 h-3.5 text-terminal-green"}):(0,a.jsx)("span",{className:"text-terminal-red",children:"fail"})})]})}function eu({type:e,content:t,timestamp:r,toolCalls:n,codeBlocks:l,thinking:s}){let o="system"===e?function(e){let t=e.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);if(0===t.length||"/status"!==t[0])return null;let r={mode:"unknown",sessionId:0,pid:0,thread:null,workspace:"",model:"",reasoning:"",approval:"",sandbox:"",webSearch:"",limitId:"",remaining5h:{...er},remainingWeek:{...er}};for(let e of t.slice(1)){let t=e.indexOf(":");if(t<=0)continue;let n=e.slice(0,t).trim().toLowerCase(),a=e.slice(t+1).trim();if("mode"===n){r.mode=a;continue}if("session"===n){let e=function(e){let t=e.match(/#?(\d+)\s*\(pid\s*(\d+)\)/i);return t?{sessionId:Number(t[1]),pid:Number(t[2])}:{sessionId:Number(e.match(/#?(\d+)/)?.[1]||0),pid:Number(e.match(/pid\s*(\d+)/i)?.[1]||0)}}(a);r.sessionId=e.sessionId,r.pid=e.pid;continue}if("thread"===n){r.thread="n/a"===a.toLowerCase()?null:a;continue}if("workspace"===n){r.workspace=a;continue}if("model"===n){r.model=a;continue}if("reasoning"===n){r.reasoning=a;continue}if("approval"===n){r.approval=a;continue}if("sandbox"===n){r.sandbox=a;continue}if("web search"===n){r.webSearch=a;continue}if("limit id"===n){r.limitId=a;continue}if("remaining 5h"===n){r.remaining5h=en(a);continue}"remaining week"===n&&(r.remainingWeek=en(a))}return r}(t):null;return(0,a.jsxs)("div",{className:`group flex gap-3 px-5 py-3 ${"user"===e?"bg-line-highlight/50":""} hover:bg-line-highlight/30 transition-colors`,children:[(0,a.jsx)("div",{className:"shrink-0 mt-0.5",children:"user"===e?(0,a.jsx)("div",{className:"w-6 h-6 rounded bg-terminal-blue/15 border border-terminal-blue/20 flex items-center justify-center",children:(0,a.jsx)(T,{className:"w-3.5 h-3.5 text-terminal-blue"})}):"system"===e?(0,a.jsx)("div",{className:"w-6 h-6 rounded bg-terminal-purple/15 border border-terminal-purple/20 flex items-center justify-center",children:(0,a.jsx)(G,{className:"w-3.5 h-3.5 text-terminal-purple"})}):(0,a.jsx)("div",{className:"w-6 h-6 rounded bg-terminal-green/15 border border-terminal-green/20 flex items-center justify-center",children:(0,a.jsx)(u,{className:"w-3.5 h-3.5 text-terminal-green"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:`text-xs font-semibold ${"user"===e?"text-terminal-blue":"system"===e?"text-terminal-purple":"text-terminal-green"}`,children:"user"===e?"you":"system"===e?"system":"alicia"}),r&&(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/40",children:r})]}),s?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("span",{children:"Thinking"}),(0,a.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,a.jsx)("span",{className:"typing-dot w-1 h-1 rounded-full bg-terminal-green inline-block"}),(0,a.jsx)("span",{className:"typing-dot w-1 h-1 rounded-full bg-terminal-green inline-block"}),(0,a.jsx)("span",{className:"typing-dot w-1 h-1 rounded-full bg-terminal-green inline-block"})]})]}):(0,a.jsxs)(a.Fragment,{children:[o?(0,a.jsx)(eo,{snapshot:o,timestamp:r}):(0,a.jsx)("div",{className:"text-sm text-terminal-fg/90 leading-relaxed whitespace-pre-wrap",children:t}),n&&n.length>0&&(0,a.jsx)("div",{className:"flex flex-col gap-1.5 mt-3",children:n.map((e,t)=>(0,a.jsx)(ec,{tool:e},t))}),l&&l.length>0&&(0,a.jsx)("div",{className:"flex flex-col gap-3 mt-3",children:l.map((e,t)=>(0,a.jsxs)("div",{className:"rounded-md border border-panel-border overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-3 py-1.5 bg-panel-bg border-b border-panel-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b,{className:"w-3 h-3 text-muted-foreground/50"}),e.filename&&(0,a.jsx)("span",{className:"text-xs text-terminal-cyan",children:e.filename}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/40 uppercase",children:e.language})]}),(0,a.jsx)(ei,{text:e.content})]}),(0,a.jsx)("div",{className:"p-3 bg-terminal-bg overflow-x-auto",children:(0,a.jsx)(ed,{code:e.content,language:e.language})})]},t))})]})]})]})}let em=c("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ep=c("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),ex=c("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]),ef=c("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),eg=c("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),eh=c("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),eb=c("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),ey=c("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),ev=c("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),ek=c("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ew=c("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ej=c("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),eN=c("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),eM=c("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),eC={model:"Model & Config",config:"Configuration",session:"Session",agent:"Agent Actions",debug:"Debug & Status",system:"System"},ez=["model","config","session","agent","debug","system"],eS={"/model":N,"/models":N,"/approvals":C,"/permissions":C,"/sandbox-add-read-dir":j,"/personality":eh,"/experimental":M,"/statusline":ek,"/new":m,"/resume":E,"/fork":I,"/rename":eg,"/compact":eN,"/plan":eg,"/collab":ew,"/agent":ej,"/diff":ev,"/review":ek,"/mention":F,"/skills":eh,"/init":G,"/mcp":z,"/status":eb,"/debug-config":eb,"/ps":G,"/apps":j,"/clean":eN,"/feedback":eM,"/logout":ey,"/quit":x,"/exit":x};function eE({filter:e,onSelect:t,onClose:r,position:n}){let[s,o]=(0,l.useState)(0),i=(0,l.useRef)(null),d=(0,l.useMemo)(()=>{let t=e.toLowerCase().replace("/","");return t?_.filter(e=>e.command.toLowerCase().includes(t)||e.label.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)):_},[e]),c=(0,l.useMemo)(()=>{let e={};for(let t of d)(e[t.category]??=[]).push(t);return ez.filter(t=>e[t]).map(t=>({category:t,commands:e[t]}))},[d]),u=(0,l.useMemo)(()=>c.flatMap(e=>e.commands),[c]);if((0,l.useEffect)(()=>{o(0)},[e]),(0,l.useEffect)(()=>{let e=e=>{"ArrowDown"===e.key?(e.preventDefault(),o(e=>Math.min(e+1,u.length-1))):"ArrowUp"===e.key?(e.preventDefault(),o(e=>Math.max(e-1,0))):"Enter"===e.key&&u[s]?(e.preventDefault(),t(u[s].command)):"Escape"===e.key&&(e.preventDefault(),r())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,s,t,r]),(0,l.useEffect)(()=>{let e=i.current?.querySelector(`[data-index="${s}"]`);e?.scrollIntoView({block:"nearest"})},[s]),0===u.length)return null;let m=0;return(0,a.jsxs)("div",{className:"fixed z-50 w-80 max-h-72 border border-panel-border rounded-lg bg-panel-bg shadow-2xl overflow-hidden flex flex-col",style:{bottom:n.bottom,left:n.left},children:[(0,a.jsx)("div",{ref:i,className:"flex-1 overflow-y-auto p-1.5",children:c.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 px-2.5 py-1.5",children:(0,a.jsx)("span",{className:"text-[10px] font-medium text-muted-foreground/50 uppercase tracking-wider",children:eC[e.category]})}),e.commands.map(e=>{let r=m++,n=eS[e.command]||G;return(0,a.jsxs)("button",{"data-index":r,onClick:()=>t(e.command),onMouseEnter:()=>o(r),className:`flex items-center gap-2.5 w-full px-2.5 py-2 rounded text-left transition-colors ${r===s?"bg-selection text-terminal-fg":"text-muted-foreground hover:bg-[#b9bcc01c]"}`,children:[(0,a.jsx)(n,{className:"w-3.5 h-3.5 shrink-0 text-terminal-purple"}),(0,a.jsx)("span",{className:"text-xs font-mono text-terminal-green",children:e.command}),(0,a.jsx)("span",{className:"text-[11px] text-muted-foreground/60 truncate flex-1",children:e.description})]},e.command)})]},e.category))}),(0,a.jsxs)("div",{className:"px-3 py-1.5 border-t border-panel-border bg-background/30 flex items-center gap-3 text-[10px] text-muted-foreground/40",children:[(0,a.jsxs)("span",{children:[u.length," commands"]}),(0,a.jsxs)("span",{className:"ml-auto flex items-center gap-2",children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border",children:"↑↓"}),"navigate",(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border",children:"Enter"}),"select"]})]})]})}function eI(e){return e.replace(/\\/g,"/").split("/").filter(Boolean).at(-1)??e}function e$({onSubmit:e,onSlashCommand:t,onAttachImage:r,onAttachMention:n,onRemoveImage:s,onRemoveMention:o,pendingImages:i=[],pendingMentions:d=[],disabled:c}){let[u,m]=(0,l.useState)(""),[p,f]=(0,l.useState)(!1),[g,h]=(0,l.useState)(""),[b,y]=(0,l.useState)(!1),v=(0,l.useRef)(null),k=(0,l.useRef)(null);(0,l.useEffect)(()=>{v.current&&(v.current.style.height="auto",v.current.style.height=`${Math.min(v.current.scrollHeight,200)}px`)},[u]),(0,l.useEffect)(()=>{u.startsWith("/")?(f(!0),h(u)):(f(!1),h(""))},[u]);let w=(0,l.useCallback)(async()=>{if(b||c)return;let r=u.trim().length>0,n=i.length>0||d.length>0;if(r||n){y(!0);try{u.startsWith("/")?await t(u.trim()):await e(u.trim()),m(""),f(!1)}finally{y(!1)}}},[c,b,t,e,i.length,d.length,u]),j=!!(c||b);return(0,a.jsxs)("div",{ref:k,className:"border-t border-panel-border bg-panel-bg p-3 shrink-0",children:[p&&(0,a.jsx)(eE,{filter:g,onSelect:e=>{f(!1),m(""),t(e)},onClose:()=>{f(!1),m("")},position:(()=>{if(!k.current)return{bottom:80,left:16};let e=k.current.getBoundingClientRect();return{bottom:window.innerHeight-e.top+8,left:e.left}})()}),(i.length>0||d.length>0)&&(0,a.jsxs)("div",{className:"mb-2 flex flex-wrap gap-1.5",children:[d.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded border border-terminal-blue/30 bg-terminal-blue/10 px-2 py-1 text-[10px] text-terminal-blue",children:[(0,a.jsx)(ef,{className:"h-3 w-3"}),eI(e),o&&(0,a.jsx)("button",{onClick:()=>o(t),className:"hover:text-terminal-fg",children:(0,a.jsx)(x,{className:"h-3 w-3"})})]},`mention-${e}-${t}`)),i.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded border border-terminal-purple/30 bg-terminal-purple/10 px-2 py-1 text-[10px] text-terminal-purple",children:[(0,a.jsx)(ex,{className:"h-3 w-3"}),eI(e),s&&(0,a.jsx)("button",{onClick:()=>s(t),className:"hover:text-terminal-fg",children:(0,a.jsx)(x,{className:"h-3 w-3"})})]},`image-${e}-${t}`))]}),(0,a.jsxs)("div",{className:"flex items-end gap-2 rounded-lg border border-panel-border bg-terminal-bg px-3 py-2 focus-within:border-terminal-green/30 transition-colors",children:[(0,a.jsx)("div",{className:"flex items-center gap-1 py-1",children:(0,a.jsx)("span",{className:"text-terminal-green text-sm font-bold select-none",children:">"})}),(0,a.jsx)("textarea",{ref:v,value:u,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||p||(e.preventDefault(),w()),"Escape"===e.key&&p&&(f(!1),m(""))},placeholder:"Ask Alicia anything... or type / for commands",disabled:j,rows:1,className:"flex-1 bg-transparent text-sm text-terminal-fg placeholder:text-muted-foreground/40 outline-none resize-none min-h-[24px] max-h-[200px] py-1 disabled:opacity-50"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 py-1",children:[(0,a.jsx)("button",{onClick:()=>void n?.(),className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground/40 hover:text-muted-foreground transition-colors",title:"Attach file",disabled:j,children:(0,a.jsx)(ep,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>void r?.(),className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground/40 hover:text-muted-foreground transition-colors",title:"Attach image",disabled:j,children:(0,a.jsx)(ex,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>void n?.(),className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground/40 hover:text-muted-foreground transition-colors",title:"Mention file or symbol",disabled:j,children:(0,a.jsx)(ef,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>void w(),disabled:j||!u.trim()&&0===i.length&&0===d.length,className:"p-1 rounded bg-terminal-green/20 text-terminal-green hover:bg-terminal-green/30 disabled:opacity-30 disabled:cursor-not-allowed transition-colors ml-1",children:(0,a.jsx)(em,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2 px-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground/40",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Enter"})," send"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Shift+Enter"})," newline"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"/"})," commands"]})]}),(0,a.jsx)("div",{className:"text-[10px] text-muted-foreground/30",children:u.length>0&&`${u.length} chars`})]})]})}let eA=c("circle-dot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),eP=c("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),eR={"read-only":$,auto:C,"full-access":A},e_={"read-only":"text-terminal-blue",auto:"text-terminal-green","full-access":"text-terminal-red"};function eL({state:e,modelLabel:t,runtime:r,onOpenPanel:n}){let l=eR[e.approvalPreset],s=e.mcpServers.filter(e=>"connected"===e.status),o=e.mcpServers.reduce((e,t)=>e+t.tools.length,0);return(0,a.jsxs)("div",{className:"flex items-center justify-between h-6 bg-panel-bg border-t border-panel-border px-3 text-[10px] text-muted-foreground select-none shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(v,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:"main"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eA,{className:`w-3 h-3 ${r.connected?"text-terminal-green":"text-terminal-red"}`}),(0,a.jsx)("span",{children:r.connected?"runtime connected":"runtime disconnected"})]}),(0,a.jsx)("div",{className:"flex items-center gap-1 text-terminal-gold",children:(0,a.jsxs)("span",{children:["session: ",r.sessionId??"none"]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)("button",{onClick:()=>n("permissions"),className:`flex items-center gap-1 px-1.5 py-0.5 rounded hover:bg-[#b9bcc01c] transition-colors ${e_[e.approvalPreset]}`,children:[(0,a.jsx)(l,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.sandboxMode})]}),(0,a.jsx)("span",{className:"text-muted-foreground/20 mx-0.5",children:"|"}),(0,a.jsxs)("button",{onClick:()=>n("mcp"),className:"flex items-center gap-1 px-1.5 py-0.5 rounded hover:bg-[#b9bcc01c] transition-colors",children:[(0,a.jsx)(z,{className:"w-3 h-3 text-terminal-purple"}),(0,a.jsxs)("span",{children:[s.length," MCP"]}),(0,a.jsxs)("span",{className:"text-muted-foreground/40",children:["(",o,")"]})]}),(0,a.jsx)("span",{className:"text-muted-foreground/20 mx-0.5",children:"|"}),(0,a.jsxs)("button",{onClick:()=>n("model"),className:"flex items-center gap-1 px-1.5 py-0.5 rounded hover:bg-[#b9bcc01c] transition-colors",children:[(0,a.jsx)(N,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:t}),(0,a.jsxs)("span",{className:"text-muted-foreground/40 capitalize",children:["[",e.reasoningEffort,"]"]})]}),(0,a.jsx)("span",{className:"text-muted-foreground/20 mx-0.5",children:"|"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eP,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:r.state})]})]})]})}let eD=c("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),eq=c("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),eW={none:{label:"None",color:"text-muted-foreground",description:"No reasoning chain"},minimal:{label:"Minimal",color:"text-muted-foreground",description:"Shortest reasoning"},low:{label:"Low",color:"text-terminal-blue",description:"Brief reasoning"},medium:{label:"Medium",color:"text-terminal-gold",description:"Balanced reasoning"},high:{label:"High",color:"text-terminal-green",description:"Detailed reasoning"},xhigh:{label:"X-High",color:"text-terminal-pink",description:"Maximum reasoning depth"}};function eO({currentModel:e,currentEffort:t,models:r,loading:n,error:s,cachedAt:o,stale:i,onRetry:d,onSelect:c,onClose:u}){let[m,p]=(0,l.useState)("model"),[f,g]=(0,l.useState)(null),h=(0,l.useMemo)(()=>{if(f){let e=r.find(e=>e.id===f);if(e)return e}return r.find(t=>t.id===e)||r.find(e=>e.isDefault)||r[0]||null},[e,r,f]);(0,l.useEffect)(()=>{if(f||0===r.length)return;let t=r.find(t=>t.id===e)?.id||r.find(e=>e.isDefault)?.id||r[0]?.id;t&&g(t)},[e,r,f]);let b=r.length>0,y=n&&!b,v=!n&&!b,k=(0,l.useMemo)(()=>{if(!o)return null;let e=Math.max(0,Math.floor((Date.now()-o)/1e3));if(e<60)return`${e}s ago`;let t=Math.floor(e/60);if(t<60)return`${t}m ago`;let r=Math.floor(t/60);if(r<24)return`${r}h ago`;let n=Math.floor(r/24);return`${n}d ago`},[o]);return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",onClick:u,children:(0,a.jsxs)("div",{className:"w-full max-w-md border border-panel-border rounded-lg bg-panel-bg shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-panel-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N,{className:"w-4 h-4 text-terminal-green"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-terminal-fg",children:"model"===m?"/models":"/models > reasoning"}),"effort"===m&&h&&(0,a.jsx)("span",{className:"text-xs text-terminal-blue px-1.5 py-0.5 bg-terminal-blue/10 rounded",children:h.displayName})]}),(0,a.jsx)("button",{onClick:u,className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground transition-colors",children:(0,a.jsx)(x,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"max-h-80 overflow-y-auto",children:y?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(eq,{className:"w-3.5 h-3.5 animate-spin text-terminal-green"}),"Loading models from Codex runtime..."]})}):v?(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:s||"No models available from Codex runtime."}),(0,a.jsxs)("button",{onClick:d,className:"inline-flex items-center gap-1.5 px-2 py-1 rounded border border-panel-border text-xs text-terminal-fg hover:bg-[#b9bcc01c] transition-colors",children:[(0,a.jsx)(eD,{className:"w-3.5 h-3.5"}),"Retry"]})]}):(0,a.jsxs)("div",{className:"p-2",children:[(n||i||s||k)&&(0,a.jsxs)("div",{className:"mb-2 rounded border border-panel-border bg-background/40 px-2.5 py-1.5 text-[10px] text-muted-foreground",children:[n?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,a.jsx)(eq,{className:"w-3 h-3 animate-spin text-terminal-green"}),"Refreshing model catalog..."]}):(0,a.jsxs)("span",{children:[i?"Using cached catalog":"Catalog synced",k?` • updated ${k}`:""]}),s&&(0,a.jsxs)("div",{className:"mt-1 inline-flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-terminal-gold/90 truncate",children:s}),(0,a.jsxs)("button",{onClick:d,className:"inline-flex items-center gap-1 rounded border border-panel-border px-1.5 py-0.5 text-[10px] text-terminal-fg hover:bg-[#b9bcc01c] transition-colors",children:[(0,a.jsx)(eD,{className:"w-3 h-3"}),"Retry"]})]})]}),"model"===m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2",children:[(0,a.jsx)(eh,{className:"w-3 h-3 text-muted-foreground/60"}),(0,a.jsx)("span",{className:"text-[10px] font-medium text-muted-foreground/60 uppercase tracking-wider",children:"Available models in Codex"})]}),r.map(t=>(0,a.jsxs)("button",{onClick:()=>{g(t.id),p("effort")},className:`flex items-center justify-between w-full px-3 py-2.5 rounded text-left transition-colors ${t.id===h?.id?"bg-terminal-green/10 border border-terminal-green/20":"hover:bg-[#b9bcc01c] border border-transparent"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"text-sm text-terminal-fg truncate",children:t.displayName}),t.isDefault&&(0,a.jsx)("span",{className:"text-[11px] leading-none uppercase tracking-normal text-terminal-green bg-terminal-green/10 border border-terminal-green/20 px-0.5 py-0.5 rounded",children:"default"}),t.supportsPersonality&&(0,a.jsx)("span",{className:"text-[11px] leading-none uppercase tracking-normal text-terminal-purple bg-terminal-purple/10 border border-terminal-purple/20 px-0.5 py-0.5 rounded",children:"personality"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[t.id===e&&(0,a.jsx)(H,{className:"w-3.5 h-3.5 text-terminal-green"}),(0,a.jsx)(S,{className:"w-3.5 h-3.5 text-muted-foreground/30"})]})]},t.id)),(0,a.jsxs)("div",{className:"px-3 py-2 text-[10px] text-muted-foreground/40",children:[r.length," model",1===r.length?"":"s"," available"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"px-3 py-2",children:(0,a.jsx)("span",{className:"text-[10px] font-medium text-muted-foreground/60 uppercase tracking-wider",children:"Reasoning Effort"})}),(h?.supportedReasoningEfforts||[]).map(r=>{var n;let l,s=r.reasoningEffort,o=(n=r.description,l=eW[s],{label:l?.label||s,color:l?.color||"text-terminal-fg",description:n?.trim()||l?.description||""});return(0,a.jsxs)("button",{onClick:()=>{h&&c(h.id,s),u()},className:`flex items-center justify-between w-full px-3 py-2.5 rounded text-left transition-colors ${s===t&&h?.id===e?"bg-terminal-green/10 border border-terminal-green/20":"hover:bg-[#b9bcc01c] border border-transparent"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${o.color} bg-current`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:`text-sm ${o.color}`,children:o.label}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground/50",children:o.description})]})]}),s===t&&h?.id===e&&(0,a.jsx)(H,{className:"w-3.5 h-3.5 text-terminal-green"})]},s)}),h&&0===h.supportedReasoningEfforts.length&&(0,a.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"This model has no reasoning options available."}),(0,a.jsxs)("button",{onClick:()=>p("model"),className:"mt-2 flex items-center gap-2 px-3 py-2 text-xs text-muted-foreground hover:text-terminal-fg transition-colors",children:[(0,a.jsx)(S,{className:"w-3 h-3 rotate-180"}),"Back to models"]})]})]})}),(0,a.jsx)("div",{className:"px-4 py-2.5 border-t border-panel-border bg-background/30",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground/40",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Esc"})," close"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Enter"})," select"]})]})})]})})}let eT=c("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),eH={"read-only":$,auto:C,"full-access":A},eV={"read-only":"terminal-blue",auto:"terminal-green","full-access":"terminal-red"};function eF({currentPreset:e,currentSandbox:t,onSelect:r,onClose:n}){return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",onClick:n,children:(0,a.jsxs)("div",{className:"w-full max-w-lg border border-panel-border rounded-lg bg-panel-bg shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-panel-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C,{className:"w-4 h-4 text-terminal-green"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-terminal-fg",children:"/permissions"})]}),(0,a.jsx)("button",{onClick:n,className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground transition-colors",children:(0,a.jsx)(x,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"p-3 flex flex-col gap-2",children:Object.keys(R).map(t=>{let l=R[t],s=eH[t],o=eV[t],i=t===e;return(0,a.jsxs)("button",{onClick:()=>{r(t),n()},className:`flex items-start gap-3 w-full p-3 rounded-lg text-left transition-colors border ${i?`bg-${o}/10 border-${o}/20`:"hover:bg-[#b9bcc01c] border-transparent"}`,style:i?{backgroundColor:`color-mix(in srgb, var(--${o}) 10%, transparent)`,borderColor:`color-mix(in srgb, var(--${o}) 20%, transparent)`}:{},children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shrink-0 mt-0.5",style:{backgroundColor:`color-mix(in srgb, var(--${o}) 15%, transparent)`},children:(0,a.jsx)(s,{className:"w-4 h-4",style:{color:`var(--${o})`}})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-terminal-fg",children:l.label}),i&&(0,a.jsx)(H,{className:"w-3.5 h-3.5 text-terminal-green"}),"full-access"===t&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-terminal-red bg-terminal-red/10 px-1.5 py-0.5 rounded",children:[(0,a.jsx)(eT,{className:"w-2.5 h-2.5"}),"Dangerous"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:l.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-[10px] text-muted-foreground/60",children:[(0,a.jsxs)("span",{children:["approval: ",(0,a.jsx)("span",{className:"text-terminal-fg/70",children:l.approvalPolicy})]}),(0,a.jsxs)("span",{children:["sandbox: ",(0,a.jsx)("span",{className:"text-terminal-fg/70",children:l.sandboxMode})]})]})]})]},t)})}),(0,a.jsx)("div",{className:"px-4 py-2.5 border-t border-panel-border bg-background/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground/50",children:[(0,a.jsxs)("span",{children:["Current sandbox: ",(0,a.jsx)("span",{className:"text-terminal-fg/60",children:t})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Esc"})," close"]})]})})]})})}let eG=c("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eB={filesystem:c("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),git:v,shell:G,browser:Y,database:c("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),search:F},eU={connected:{dot:"bg-terminal-green",text:"text-terminal-green"},disconnected:{dot:"bg-muted-foreground/50",text:"text-muted-foreground/50"},error:{dot:"bg-terminal-red",text:"text-terminal-red"},connecting:{dot:"bg-terminal-gold animate-pulse",text:"text-terminal-gold"}};function eJ({server:e}){let[t,r]=(0,l.useState)(!1),n=eB[e.id]||et,s=eU[e.status];return(0,a.jsxs)("div",{className:"border border-panel-border rounded-lg overflow-hidden bg-background/20",children:[(0,a.jsxs)("button",{onClick:()=>r(!t),className:"flex items-center w-full px-3 py-2.5 text-left hover:bg-[#ffffff06] transition-colors gap-3",children:[(0,a.jsx)(n,{className:`w-4 h-4 ${s.text} shrink-0`}),(0,a.jsx)("span",{className:"text-sm text-terminal-fg font-medium truncate",children:e.name}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/30 font-mono shrink-0",children:e.transport}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-2 shrink-0",children:[(0,a.jsxs)("span",{className:`text-xs tabular-nums ${s.text}`,children:[e.tools.length," tools"]}),(0,a.jsx)("div",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${s.dot}`}),t?(0,a.jsx)(eG,{className:"w-3.5 h-3.5 text-muted-foreground/30"}):(0,a.jsx)(S,{className:"w-3.5 h-3.5 text-muted-foreground/30"})]})]}),t&&(0,a.jsxs)("div",{className:"border-t border-panel-border",children:[(0,a.jsxs)("div",{className:"px-3 pt-2 pb-2.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,a.jsx)(ej,{className:"w-3 h-3 text-muted-foreground/40"}),(0,a.jsxs)("span",{className:"text-[10px] font-medium text-muted-foreground/40 uppercase tracking-wider",children:["Tools (",e.tools.length,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tools.map(e=>(0,a.jsx)("span",{className:"inline-flex text-[11px] leading-tight px-1.5 py-0.5 rounded border border-panel-border bg-panel-bg text-terminal-fg/60 font-mono whitespace-nowrap",children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 border-t border-panel-border bg-background/20",children:[(0,a.jsxs)("button",{className:"flex items-center gap-1 text-[10px] text-terminal-red/80 hover:text-terminal-red transition-colors",children:[(0,a.jsx)(eN,{className:"w-3 h-3"}),"Remove"]}),(0,a.jsxs)("button",{className:"flex items-center gap-1 text-[10px] text-terminal-blue/80 hover:text-terminal-blue transition-colors",children:[(0,a.jsx)(eD,{className:"w-3 h-3"}),"Reconnect"]}),e.url&&(0,a.jsx)("span",{className:"ml-auto text-[10px] text-muted-foreground/30 font-mono truncate max-w-[200px]",children:e.url})]})]})]})}function eZ({servers:e,onClose:t}){let r=e.filter(e=>"connected"===e.status).length,n=e.reduce((e,t)=>e+t.tools.length,0);return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",onClick:t,children:(0,a.jsxs)("div",{className:"w-full max-w-lg border border-panel-border rounded-lg bg-panel-bg shadow-2xl flex flex-col max-h-[80vh]",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-panel-border shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z,{className:"w-4 h-4 text-terminal-green"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-terminal-fg",children:"/mcp"}),(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground/50 ml-1",children:[r,"/",e.length," MCP, ",n," tools"]})]}),(0,a.jsx)("button",{onClick:t,className:"p-1 rounded hover:bg-[#ffffff08] text-muted-foreground transition-colors",children:(0,a.jsx)(x,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"overflow-y-auto p-3 flex flex-col gap-2 min-h-0",children:e.map(e=>(0,a.jsx)(eJ,{server:e},e.id))}),(0,a.jsx)("div",{className:"px-4 py-2.5 border-t border-panel-border shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{className:"flex items-center gap-1.5 text-xs text-terminal-green hover:text-terminal-green/80 transition-colors",children:[(0,a.jsx)(m,{className:"w-3.5 h-3.5"}),"Add Server"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground/40",children:[(0,a.jsxs)("span",{children:["CLI: ",(0,a.jsx)("span",{className:"text-terminal-fg/50 font-mono",children:"codex mcp list"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Esc"})," close"]})]})]})})]})})}function eK({sessions:e,mode:t,onSelect:r,onNewSession:n,onClose:l}){return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",onClick:l,children:(0,a.jsxs)("div",{className:"w-full max-w-md border border-panel-border rounded-lg bg-panel-bg shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-panel-border",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["resume"===t?(0,a.jsx)(E,{className:"w-4 h-4 text-terminal-green"}):"fork"===t?(0,a.jsx)(I,{className:"w-4 h-4 text-terminal-purple"}):(0,a.jsx)(w,{className:"w-4 h-4 text-terminal-blue"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-terminal-fg",children:"resume"===t?"/resume":"fork"===t?"/fork":"Sessions"})]}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground/50 mt-0.5 ml-6",children:"resume"===t?"Resume a previous session":"fork"===t?"Fork a session into a new conversation":"Manage your sessions"})]}),(0,a.jsx)("button",{onClick:l,className:"p-1 rounded hover:bg-[#b9bcc01c] text-muted-foreground transition-colors",children:(0,a.jsx)(x,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"max-h-80 overflow-y-auto p-2",children:e.map(e=>(0,a.jsxs)("button",{onClick:()=>r(e.id,"list"===t?"switch":t),className:`flex items-center gap-3 w-full px-3 py-3 rounded-lg text-left transition-colors ${e.active?"bg-terminal-green/5 border border-terminal-green/15":"hover:bg-[#b9bcc01c] border border-transparent"}`,children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full shrink-0 ${e.active?"bg-terminal-green":"bg-muted-foreground/20"}`}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-terminal-fg truncate",children:e.name}),e.active&&(0,a.jsx)("span",{className:"text-[10px] text-terminal-green bg-terminal-green/10 px-1 py-0.5 rounded",children:"active"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-[10px] text-muted-foreground/50",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h,{className:"w-2.5 h-2.5"}),e.time]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(w,{className:"w-2.5 h-2.5"}),e.messageCount," messages"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(N,{className:"w-2.5 h-2.5"}),e.model]})]})]}),(0,a.jsxs)("div",{className:"shrink-0",children:["resume"===t&&(0,a.jsx)(E,{className:"w-3.5 h-3.5 text-muted-foreground/30"}),"fork"===t&&(0,a.jsx)(I,{className:"w-3.5 h-3.5 text-muted-foreground/30"})]})]},e.id))}),(0,a.jsx)("div",{className:"px-4 py-2.5 border-t border-panel-border bg-background/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:()=>{n(),l()},className:"flex items-center gap-1.5 text-xs text-terminal-green hover:text-terminal-green/80 transition-colors",children:[(0,a.jsx)(m,{className:"w-3.5 h-3.5"}),"New Session"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground/40",children:[(0,a.jsxs)("span",{children:["CLI: ",(0,a.jsxs)("span",{className:"text-terminal-fg/50 font-mono",children:["codex ","fork"===t?"fork":"resume"]})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-background/50 border border-panel-border text-muted-foreground/50",children:"Esc"})," close"]})]})]})})]})})}"function"==typeof SuppressedError&&SuppressedError;async function eX(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}async function eY(e,t){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,t),await eX("plugin:event|unlisten",{event:e,eventId:t})}async function eQ(e,t,r){var n;return eX("plugin:event|listen",{event:e,target:"string"==typeof(null==r?void 0:r.target)?{kind:"AnyLabel",label:r.target}:null!=(n=null==r?void 0:r.target)?n:{kind:"Any"},handler:function(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}(t)}).then(t=>async()=>eY(e,t))}function e0(e){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){let t=Number(e);if(Number.isFinite(t))return t}}function e1(e){let t=e??{};return{sessionId:e0(t.sessionId??t.session_id)??0,chunk:String(t.chunk??"")}}function e2(){return"__TAURI_INTERNALS__"in window}async function e5(e){if(!e2())return()=>void 0;let t=await Promise.all([eQ("codex://stdout",t=>{e({type:"stdout",payload:e1(t.payload)})}),eQ("codex://stderr",t=>{e({type:"stderr",payload:e1(t.payload)})}),eQ("codex://lifecycle",t=>{let r;e({type:"lifecycle",payload:{status:String((r=t.payload??{}).status??"error"),sessionId:e0(r.sessionId??r.session_id),pid:e0(r.pid),exitCode:e0(r.exitCode??r.exit_code),message:null==r.message?null:String(r.message)}})}),eQ("codex://event",t=>{let r,n;e({type:"event",payload:(n=(r=t.payload??{}).event??{},{sessionId:e0(r.sessionId??r.session_id)??0,seq:e0(r.seq)??0,event:n})})})]);return()=>{for(let e of t)e()}}async function e3(e){if(!e2())return()=>void 0;let t=await Promise.all([eQ("terminal://data",t=>{let r;e({type:"data",payload:{terminalId:e0((r=t.payload??{}).terminalId??r.terminal_id)??0,seq:e0(r.seq)??0,chunk:String(r.chunk??"")}})}),eQ("terminal://exit",t=>{let r;e({type:"exit",payload:{terminalId:e0((r=t.payload??{}).terminalId??r.terminal_id)??0,seq:e0(r.seq)??0,exitCode:e0(r.exitCode??r.exit_code)}})})]);return()=>{for(let e of t)e()}}async function e4(){return eX("codex_runtime_status")}async function e6(){return eX("load_codex_default_config")}async function e8(e){return eX("codex_bridge_start",{config:e})}async function e9(){await eX("codex_bridge_stop")}async function e7(e){return eX("codex_turn_run",{request:e})}async function te(e){await eX("send_codex_input",{text:e})}async function tt(e){return eX("codex_config_set",{patch:e})}async function tr(e,t){return eX("run_codex_command",{args:e,cwd:t})}async function tn(){return eX("codex_models_list")}async function ta(){return eX("codex_wait_for_mcp_startup")}async function tl(e){return eX("terminal_create",{request:e})}async function ts(e,t){await eX("terminal_write",{request:{terminalId:e,data:t}})}async function to(e,t,r){await eX("terminal_resize",{request:{terminalId:e,cols:t,rows:r}})}async function ti(e){await eX("terminal_kill",{request:{terminalId:e}})}async function td(){return eX("pick_image_file")}async function tc(){return eX("pick_mention_file")}async function tu(){return eX("codex_help_snapshot")}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,(r=n||(n={})).WINDOW_RESIZED="tauri://resize",r.WINDOW_MOVED="tauri://move",r.WINDOW_CLOSE_REQUESTED="tauri://close-requested",r.WINDOW_DESTROYED="tauri://destroyed",r.WINDOW_FOCUS="tauri://focus",r.WINDOW_BLUR="tauri://blur",r.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",r.WINDOW_THEME_CHANGED="tauri://theme-changed",r.WINDOW_CREATED="tauri://window-created",r.WEBVIEW_CREATED="tauri://webview-created",r.DRAG_ENTER="tauri://drag-enter",r.DRAG_OVER="tauri://drag-over",r.DRAG_DROP="tauri://drag-drop",r.DRAG_LEAVE="tauri://drag-leave";let tm=c("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),tp=(0,l.createContext)(null);tp.displayName="PanelGroupContext";let tx="data-panel-group-direction",tf="data-panel-group-id",tg="data-resize-handle",th="data-panel-resize-handle-id",tb=l.useLayoutEffect,ty=l["useId".toString()],tv="function"==typeof ty?ty:()=>null,tk=0;function tw(e=null){let t=tv(),r=(0,l.useRef)(e||t||null);return null===r.current&&(r.current=""+tk++),null!=e?e:r.current}function tj({children:e,className:t="",collapsedSize:r,collapsible:n,defaultSize:a,forwardedRef:s,id:o,maxSize:i,minSize:d,onCollapse:c,onExpand:u,onResize:m,order:p,style:x,tagName:f="div",...g}){let h=(0,l.useContext)(tp);if(null===h)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:b,expandPanel:y,getPanelSize:v,getPanelStyle:k,groupId:w,isPanelCollapsed:j,reevaluatePanelConstraints:N,registerPanel:M,resizePanel:C,unregisterPanel:z}=h,S=tw(o),E=(0,l.useRef)({callbacks:{onCollapse:c,onExpand:u,onResize:m},constraints:{collapsedSize:r,collapsible:n,defaultSize:a,maxSize:i,minSize:d},id:S,idIsFromProps:void 0!==o,order:p});(0,l.useRef)({didLogMissingDefaultSizeWarning:!1}),tb(()=>{let{callbacks:e,constraints:t}=E.current,l={...t};E.current.id=S,E.current.idIsFromProps=void 0!==o,E.current.order=p,e.onCollapse=c,e.onExpand=u,e.onResize=m,t.collapsedSize=r,t.collapsible=n,t.defaultSize=a,t.maxSize=i,t.minSize=d,(l.collapsedSize!==t.collapsedSize||l.collapsible!==t.collapsible||l.maxSize!==t.maxSize||l.minSize!==t.minSize)&&N(E.current,l)}),tb(()=>{let e=E.current;return M(e),()=>{z(e)}},[p,S,M,z]),(0,l.useImperativeHandle)(s,()=>({collapse:()=>{b(E.current)},expand:e=>{y(E.current,e)},getId:()=>S,getSize:()=>v(E.current),isCollapsed:()=>j(E.current),isExpanded:()=>!j(E.current),resize:e=>{C(E.current,e)}}),[b,y,v,j,S,C]);let I=k(E.current,a);return(0,l.createElement)(f,{...g,children:e,className:t,id:S,style:{...I,...x},[tf]:w,"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-id":S,"data-panel-size":parseFloat(""+I.flexGrow).toFixed(1)})}let tN=(0,l.forwardRef)((e,t)=>(0,l.createElement)(tj,{...e,forwardedRef:t}));tj.displayName="Panel",tN.displayName="forwardRef(Panel)";let tM=null,tC=-1,tz=null;function tS(e,r){var n,a,l;let s=function(e,t){if(t){let e=(t&tq)!=0,r=(t&tW)!=0,n=(t&tO)!=0,a=(t&tT)!=0;if(e)if(n)return"se-resize";else if(a)return"ne-resize";else return"e-resize";if(r)if(n)return"sw-resize";else if(a)return"nw-resize";else return"w-resize";if(n)return"s-resize";else if(a)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,r);tM!==s&&(tM=s,null===tz&&(tz=document.createElement("style"),t&&tz.setAttribute("nonce",t),document.head.appendChild(tz)),tC>=0&&(null==(l=tz.sheet)||l.removeRule(tC)),tC=null!=(n=null==(a=tz.sheet)?void 0:a.insertRule(`*{cursor: ${s} !important;}`))?n:-1)}function tE(e){return"keydown"===e.type}function tI(e){return e.type.startsWith("pointer")}function t$(e){return e.type.startsWith("mouse")}function tA(e){if(tI(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(t$(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}let tP=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function tR(e){let t=e.length;for(;t--;){let r=e[t];if(t5(r,"Missing node"),function(e){var t;let r,n=getComputedStyle(e);return"fixed"===n.position||!!("auto"!==n.zIndex&&("static"!==n.position||"flex"===(r=getComputedStyle(null!=(t=tD(e))?t:e).display)||"inline-flex"===r)||1>+n.opacity||"transform"in n&&"none"!==n.transform||"webkitTransform"in n&&"none"!==n.webkitTransform||"mixBlendMode"in n&&"normal"!==n.mixBlendMode||"filter"in n&&"none"!==n.filter||"webkitFilter"in n&&"none"!==n.webkitFilter||"isolation"in n&&"isolate"===n.isolation||tP.test(n.willChange))||"touch"===n.webkitOverflowScrolling}(r))return r}return null}function t_(e){return e&&Number(getComputedStyle(e).zIndex)||0}function tL(e){let t=[];for(;e;)t.push(e),e=tD(e);return t}function tD(e){let{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}let tq=1,tW=2,tO=4,tT=8,tH="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}(),tV=[],tF=!1,tG=new Map,tB=new Map,tU=new Set;function tJ(e){let{target:t}=e,{x:r,y:n}=tA(e);tF=!0,tY({target:t,x:r,y:n}),t1(),tV.length>0&&(t2("down",e),e.preventDefault(),tX(t)||e.stopImmediatePropagation())}function tZ(e){let{x:t,y:r}=tA(e);if(tF&&0===e.buttons&&(tF=!1,t2("up",e)),!tF){let{target:n}=e;tY({target:n,x:t,y:r})}t2("move",e),tQ(),tV.length>0&&e.preventDefault()}function tK(e){let{target:t}=e,{x:r,y:n}=tA(e);tB.clear(),tF=!1,tV.length>0&&(e.preventDefault(),tX(t)||e.stopImmediatePropagation()),t2("up",e),tY({target:t,x:r,y:n}),tQ(),t1()}function tX(e){let t=e;for(;t;){if(t.hasAttribute(tg))return!0;t=t.parentElement}return!1}function tY({target:e,x:t,y:r}){tV.splice(0);let n=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(n=e),tU.forEach(e=>{let{element:a,hitAreaMargins:l}=e,s=a.getBoundingClientRect(),{bottom:o,left:i,right:d,top:c}=s,u=tH?l.coarse:l.fine;if(t>=i-u&&t<=d+u&&r>=c-u&&r<=o+u){if(null!==n&&document.contains(n)&&a!==n&&!a.contains(n)&&!n.contains(a)&&function(e,t){let r;if(e===t)throw Error("Cannot compare node with itself");let n={a:tL(e),b:tL(t)};for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;t5(r,"Stacking order can only be calculated for elements with a common ancestor");let a={a:t_(tR(n.a)),b:t_(tR(n.b))};if(a.a===a.b){let e=r.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)},a=e.length;for(;a--;){let r=e[a];if(r===t.a)return 1;if(r===t.b)return -1}}return Math.sign(a.a-a.b)}(n,a)>0){let e=n,t=!1;for(;e;){var m;if(e.contains(a))break;if(m=e.getBoundingClientRect(),m.x<s.x+s.width&&m.x+m.width>s.x&&m.y<s.y+s.height&&m.y+m.height>s.y){t=!0;break}e=e.parentElement}if(t)return}tV.push(e)}})}function tQ(){let e=!1,t=!1;tV.forEach(r=>{let{direction:n}=r;"horizontal"===n?e=!0:t=!0});let r=0;tB.forEach(e=>{r|=e}),e&&t?tS("intersection",r):e?tS("horizontal",r):t?tS("vertical",r):null!==tz&&(document.head.removeChild(tz),tM=null,tz=null,tC=-1)}let t0=new AbortController;function t1(){t0.abort();let e={capture:!0,signal:(t0=new AbortController).signal};tU.size&&(tF?(tV.length>0&&tG.forEach((t,r)=>{let{body:n}=r;t>0&&(n.addEventListener("contextmenu",tK,e),n.addEventListener("pointerleave",tZ,e),n.addEventListener("pointermove",tZ,e))}),window.addEventListener("pointerup",tK,e),window.addEventListener("pointercancel",tK,e)):tG.forEach((t,r)=>{let{body:n}=r;t>0&&(n.addEventListener("pointerdown",tJ,e),n.addEventListener("pointermove",tZ,e))}))}function t2(e,t){tU.forEach(r=>{let{setResizeHandlerState:n}=r;n(e,tV.includes(r),t)})}function t5(e,t){if(!e)throw console.error(t),Error(t)}function t3(e,t,r=10){return e.toFixed(r)===t.toFixed(r)?0:e>t?1:-1}function t4(e,t,r=10){return 0===t3(e,t,r)}function t6(e,t,r){return 0===t3(e,t,r)}function t8({panelConstraints:e,panelIndex:t,size:r}){let n=e[t];t5(null!=n,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:l,maxSize:s=100,minSize:o=0}=n;return 0>t3(r,o)&&(r=l&&0>t3(r,(a+o)/2)?a:o),r=parseFloat((r=Math.min(s,r)).toFixed(10))}function t9({delta:e,initialLayout:t,panelConstraints:r,pivotIndices:n,prevLayout:a,trigger:l}){if(t6(e,0))return t;let s=[...t],[o,i]=n;t5(null!=o,"Invalid first pivot index"),t5(null!=i,"Invalid second pivot index");let d=0;if("keyboard"===l){{let n=e<0?i:o,a=r[n];t5(a,`Panel constraints not found for index ${n}`);let{collapsedSize:l=0,collapsible:s,minSize:d=0}=a;if(s){let r=t[n];if(t5(null!=r,`Previous layout not found for panel index ${n}`),t6(r,l)){let t=d-r;t3(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{let n=e<0?o:i,a=r[n];t5(a,`No panel constraints found for index ${n}`);let{collapsedSize:l=0,collapsible:s,minSize:d=0}=a;if(s){let r=t[n];if(t5(null!=r,`Previous layout not found for panel index ${n}`),t6(r,d)){let t=r-l;t3(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{let n=e<0?1:-1,a=e<0?i:o,l=0;for(;;){let e=t[a];if(t5(null!=e,`Previous layout not found for panel index ${a}`),l+=t8({panelConstraints:r,panelIndex:a,size:100})-e,(a+=n)<0||a>=r.length)break}let s=Math.min(Math.abs(e),Math.abs(l));e=e<0?0-s:s}{let n=e<0?o:i;for(;n>=0&&n<r.length;){let a=Math.abs(e)-Math.abs(d),l=t[n];t5(null!=l,`Previous layout not found for panel index ${n}`);let o=t8({panelConstraints:r,panelIndex:n,size:l-a});if(!t6(l,o)&&(d+=l-o,s[n]=o,d.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?n--:n++}}if(function(e,t,r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!t6(e[r],t[r],void 0))return!1;return!0}(a,s))return a;{let n=e<0?i:o,a=t[n];t5(null!=a,`Previous layout not found for panel index ${n}`);let l=a+d,c=t8({panelConstraints:r,panelIndex:n,size:l});if(s[n]=c,!t6(c,l)){let t=l-c,n=e<0?i:o;for(;n>=0&&n<r.length;){let a=s[n];t5(null!=a,`Previous layout not found for panel index ${n}`);let l=t8({panelConstraints:r,panelIndex:n,size:a+t});if(t6(a,l)||(t-=l-a,s[n]=l),t6(t,0))break;e>0?n--:n++}}}return t6(s.reduce((e,t)=>t+e,0),100)?s:a}function t7(e,t=document){return Array.from(t.querySelectorAll(`[${th}][data-panel-group-id="${e}"]`))}function re(e,t,r=document){let n=t7(e,r).findIndex(e=>e.getAttribute(th)===t);return null!=n?n:null}function rt(e,t,r){let n=re(e,t,r);return null!=n?[n,n+1]:[-1,-1]}function rr(e,t=document){var r;if(t instanceof HTMLElement&&(null==t||null==(r=t.dataset)?void 0:r.panelGroupId)==e)return t;let n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function rn(e,t=document){let r=t.querySelector(`[${th}="${e}"]`);return r||null}function ra(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function rl(e,t){let{x:r,y:n}=tA(t);return"horizontal"===e?r:n}function rs(e,t,r){t.forEach((t,n)=>{let a=e[n];t5(a,`Panel data not found for index ${n}`);let{callbacks:l,constraints:s,id:o}=a,{collapsedSize:i=0,collapsible:d}=s,c=r[o];if(null==c||t!==c){r[o]=t;let{onCollapse:e,onExpand:n,onResize:a}=l;a&&a(t,c),d&&(e||n)&&(n&&(null==c||t4(c,i))&&!t4(t,i)&&n(),e&&(null==c||!t4(c,i))&&t4(t,i)&&e())}})}function ro(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function ri(e){try{if("u">typeof localStorage)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function rd(e){return`react-resizable-panels:${e}`}function rc(e){return e.map(e=>{let{constraints:t,id:r,idIsFromProps:n,order:a}=e;return n?r:a?`${a}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function ru(e,t){try{let r=rd(e),n=t.getItem(r);if(n){let e=JSON.parse(n);if("object"==typeof e&&null!=e)return e}}catch(e){}return null}function rm(e,t,r,n,a){var l;let s=rd(e),o=rc(t),i=null!=(l=ru(e,a))?l:{};i[o]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{a.setItem(s,JSON.stringify(i))}catch(e){console.error(e)}}function rp({layout:e,panelConstraints:t}){let r=[...e],n=r.reduce((e,t)=>e+t,0);if(r.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${r.map(e=>`${e}%`).join(", ")}`);if(!t6(n,100)&&r.length>0)for(let e=0;e<t.length;e++){let t=r[e];t5(null!=t,`No layout data found for index ${e}`);let a=100/n*t;r[e]=a}let a=0;for(let e=0;e<t.length;e++){let n=r[e];t5(null!=n,`No layout data found for index ${e}`);let l=t8({panelConstraints:t,panelIndex:e,size:n});n!=l&&(a+=n-l,r[e]=l)}if(!t6(a,0))for(let e=0;e<t.length;e++){let n=r[e];t5(null!=n,`No layout data found for index ${e}`);let l=t8({panelConstraints:t,panelIndex:e,size:n+a});if(n!==l&&(a-=l-n,r[e]=l,t6(a,0)))break}return r}let rx={getItem:e=>(ri(rx),rx.getItem(e)),setItem:(e,t)=>{ri(rx),rx.setItem(e,t)}},rf={};function rg({autoSaveId:e=null,children:t,className:r="",direction:n,forwardedRef:a,id:s=null,onLayout:o=null,keyboardResizeBy:i=null,storage:d=rx,style:c,tagName:u="div",...m}){let p=tw(s),x=(0,l.useRef)(null),[f,g]=(0,l.useState)(null),[h,b]=(0,l.useState)([]),y=function(){let[e,t]=(0,l.useState)(0);return(0,l.useCallback)(()=>t(e=>e+1),[])}(),v=(0,l.useRef)({}),k=(0,l.useRef)(new Map),w=(0,l.useRef)(0),j=(0,l.useRef)({autoSaveId:e,direction:n,dragState:f,id:p,keyboardResizeBy:i,onLayout:o,storage:d}),N=(0,l.useRef)({layout:h,panelDataArray:[],panelDataArrayChanged:!1});(0,l.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,l.useImperativeHandle)(a,()=>({getId:()=>j.current.id,getLayout:()=>{let{layout:e}=N.current;return e},setLayout:e=>{let{onLayout:t}=j.current,{layout:r,panelDataArray:n}=N.current,a=rp({layout:e,panelConstraints:n.map(e=>e.constraints)});ra(r,a)||(b(a),N.current.layout=a,t&&t(a),rs(n,a,v.current))}}),[]),tb(()=>{j.current.autoSaveId=e,j.current.direction=n,j.current.dragState=f,j.current.id=p,j.current.onLayout=o,j.current.storage=d}),function({committedValuesRef:e,eagerValuesRef:t,groupId:r,layout:n,panelDataArray:a,panelGroupElement:s,setLayout:o}){(0,l.useRef)({didWarnAboutMissingResizeHandle:!1}),tb(()=>{if(!s)return;let e=t7(r,s);for(let t=0;t<a.length-1;t++){let{valueMax:r,valueMin:l,valueNow:s}=function({layout:e,panelsArray:t,pivotIndices:r}){let n=0,a=100,l=0,s=0,o=r[0];return t5(null!=o,"No pivot index found"),t.forEach((e,t)=>{let{constraints:r}=e,{maxSize:i=100,minSize:d=0}=r;t===o?(n=d,a=i):(l+=d,s+=i)}),{valueMax:Math.min(a,100-l),valueMin:Math.max(n,100-s),valueNow:e[o]}}({layout:n,panelsArray:a,pivotIndices:[t,t+1]}),o=e[t];if(null==o);else{let e=a[t];t5(e,`No panel data found for index "${t}"`),o.setAttribute("aria-controls",e.id),o.setAttribute("aria-valuemax",""+Math.round(r)),o.setAttribute("aria-valuemin",""+Math.round(l)),o.setAttribute("aria-valuenow",null!=s?""+Math.round(s):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[r,n,a,s]),(0,l.useEffect)(()=>{if(!s)return;let e=t.current;t5(e,"Eager values not found");let{panelDataArray:a}=e;t5(null!=rr(r,s),`No group found for id "${r}"`);let l=t7(r,s);t5(l,`No resize handles found for group id "${r}"`);let i=l.map(e=>{let t=e.getAttribute(th);t5(t,"Resize handle element has no handle id attribute");let[l,i]=function(e,t,r,n=document){var a,l,s,o;let i=rn(t,n),d=t7(e,n),c=i?d.indexOf(i):-1;return[null!=(a=null==(l=r[c])?void 0:l.id)?a:null,null!=(s=null==(o=r[c+1])?void 0:o.id)?s:null]}(r,t,a,s);if(null==l||null==i)return()=>{};let d=e=>{if(!e.defaultPrevented&&"Enter"===e.key){e.preventDefault();let i=a.findIndex(e=>e.id===l);if(i>=0){let e=a[i];t5(e,`No panel data found for index ${i}`);let l=n[i],{collapsedSize:d=0,collapsible:c,minSize:u=0}=e.constraints;if(null!=l&&c){let e=t9({delta:t6(l,d)?u-d:d-l,initialLayout:n,panelConstraints:a.map(e=>e.constraints),pivotIndices:rt(r,t,s),prevLayout:n,trigger:"keyboard"});n!==e&&o(e)}}}};return e.addEventListener("keydown",d),()=>{e.removeEventListener("keydown",d)}});return()=>{i.forEach(e=>e())}},[s,e,t,r,n,a,o])}({committedValuesRef:j,eagerValuesRef:N,groupId:p,layout:h,panelDataArray:N.current.panelDataArray,setLayout:b,panelGroupElement:x.current}),(0,l.useEffect)(()=>{let{panelDataArray:t}=N.current;if(e){if(0===h.length||h.length!==t.length)return;let r=rf[e];null==r&&(r=function(e,t=10){let r=null;return(...n)=>{null!==r&&clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}(rm,100),rf[e]=r),r(e,[...t],new Map(k.current),h,d)}},[e,h,d]),(0,l.useEffect)(()=>{});let M=(0,l.useCallback)(e=>{let{onLayout:t}=j.current,{layout:r,panelDataArray:n}=N.current;if(e.constraints.collapsible){let a=n.map(e=>e.constraints),{collapsedSize:l=0,panelSize:s,pivotIndices:o}=ry(n,e,r);if(t5(null!=s,`Panel size not found for panel "${e.id}"`),!t4(s,l)){k.current.set(e.id,s);let i=t9({delta:rb(n,e)===n.length-1?s-l:l-s,initialLayout:r,panelConstraints:a,pivotIndices:o,prevLayout:r,trigger:"imperative-api"});ro(r,i)||(b(i),N.current.layout=i,t&&t(i),rs(n,i,v.current))}}},[]),C=(0,l.useCallback)((e,t)=>{let{onLayout:r}=j.current,{layout:n,panelDataArray:a}=N.current;if(e.constraints.collapsible){let l=a.map(e=>e.constraints),{collapsedSize:s=0,panelSize:o=0,minSize:i=0,pivotIndices:d}=ry(a,e,n),c=null!=t?t:i;if(t4(o,s)){let t=k.current.get(e.id),s=null!=t&&t>=c?t:c,i=t9({delta:rb(a,e)===a.length-1?o-s:s-o,initialLayout:n,panelConstraints:l,pivotIndices:d,prevLayout:n,trigger:"imperative-api"});ro(n,i)||(b(i),N.current.layout=i,r&&r(i),rs(a,i,v.current))}}},[]),z=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:r}=N.current,{panelSize:n}=ry(r,e,t);return t5(null!=n,`Panel size not found for panel "${e.id}"`),n},[]),S=(0,l.useCallback)((e,t)=>{let{panelDataArray:r}=N.current,n=rb(r,e);return function({defaultSize:e,dragState:t,layout:r,panelData:n,panelIndex:a,precision:l=3}){let s=r[a];return{flexBasis:0,flexGrow:null==s?void 0!=e?e.toPrecision(l):"1":1===n.length?"1":s.toPrecision(l),flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:f,layout:h,panelData:r,panelIndex:n})},[f,h]),E=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:r}=N.current,{collapsedSize:n=0,collapsible:a,panelSize:l}=ry(r,e,t);return t5(null!=l,`Panel size not found for panel "${e.id}"`),!0===a&&t4(l,n)},[]),I=(0,l.useCallback)(e=>{let{layout:t,panelDataArray:r}=N.current,{collapsedSize:n=0,collapsible:a,panelSize:l}=ry(r,e,t);return t5(null!=l,`Panel size not found for panel "${e.id}"`),!a||t3(l,n)>0},[]),$=(0,l.useCallback)(e=>{let{panelDataArray:t}=N.current;t.push(e),t.sort((e,t)=>{let r=e.order,n=t.order;return null==r&&null==n?0:null==r?-1:null==n?1:r-n}),N.current.panelDataArrayChanged=!0,y()},[y]);tb(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;let{autoSaveId:r,onLayout:n,storage:a}=j.current,{layout:l,panelDataArray:s}=N.current,o=null;if(r){var e,t;let n=null!=(t=(null!=(e=ru(r,a))?e:{})[rc(s)])?t:null;n&&(k.current=new Map(Object.entries(n.expandToSizes)),o=n.layout)}null==o&&(o=function({panelDataArray:e}){let t=Array(e.length),r=e.map(e=>e.constraints),n=0,a=100;for(let l=0;l<e.length;l++){let e=r[l];t5(e,`Panel constraints not found for index ${l}`);let{defaultSize:s}=e;null!=s&&(n++,t[l]=s,a-=s)}for(let l=0;l<e.length;l++){let s=r[l];t5(s,`Panel constraints not found for index ${l}`);let{defaultSize:o}=s;if(null!=o)continue;let i=a/(e.length-n);n++,t[l]=i,a-=i}return t}({panelDataArray:s}));let i=rp({layout:o,panelConstraints:s.map(e=>e.constraints)});ra(l,i)||(b(i),N.current.layout=i,n&&n(i),rs(s,i,v.current))}}),tb(()=>{let e=N.current;return()=>{e.layout=[]}},[]);let A=(0,l.useCallback)(e=>{let t=!1,r=x.current;return r&&"rtl"===window.getComputedStyle(r,null).getPropertyValue("direction")&&(t=!0),function(r){var n,a;r.preventDefault();let l=x.current;if(!l)return()=>null;let{direction:s,dragState:o,id:i,keyboardResizeBy:d,onLayout:c}=j.current,{layout:u,panelDataArray:m}=N.current,{initialLayout:p}=null!=o?o:{},f=rt(i,e,l),g=function(e,t,r,n,a,l){if(tE(e)){let t="horizontal"===r,n=0;n=e.shiftKey?100:null!=a?a:10;let l=0;switch(e.key){case"ArrowDown":l=t?0:n;break;case"ArrowLeft":l=t?-n:0;break;case"ArrowRight":l=t?n:0;break;case"ArrowUp":l=t?0:-n;break;case"End":l=100;break;case"Home":l=-100}return l}return null==n?0:function(e,t,r,n,a){let l="horizontal"===r,s=rn(t,a);t5(s,`No resize handle element found for id "${t}"`);let o=s.getAttribute(tf);t5(o,"Resize handle element has no group id attribute");let{initialCursorPosition:i}=n,d=rl(r,e),c=rr(o,a);t5(c,`No group element found for id "${o}"`);let u=c.getBoundingClientRect();return(d-i)/(l?u.width:u.height)*100}(e,t,r,n,l)}(r,e,s,o,d,l),h="horizontal"===s;h&&t&&(g=-g);let y=t9({delta:g,initialLayout:null!=p?p:u,panelConstraints:m.map(e=>e.constraints),pivotIndices:f,prevLayout:u,trigger:tE(r)?"keyboard":"mouse-or-touch"}),k=!ro(u,y);(tI(r)||t$(r))&&w.current!=g&&((w.current=g,k||0===g)?tB.set(e,0):h?(n=g<0?tq:tW,tB.set(e,n)):(a=g<0?tO:tT,tB.set(e,a))),k&&(b(y),N.current.layout=y,c&&c(y),rs(m,y,v.current))}},[]),P=(0,l.useCallback)((e,t)=>{let{onLayout:r}=j.current,{layout:n,panelDataArray:a}=N.current,l=a.map(e=>e.constraints),{panelSize:s,pivotIndices:o}=ry(a,e,n);t5(null!=s,`Panel size not found for panel "${e.id}"`);let i=t9({delta:rb(a,e)===a.length-1?s-t:t-s,initialLayout:n,panelConstraints:l,pivotIndices:o,prevLayout:n,trigger:"imperative-api"});ro(n,i)||(b(i),N.current.layout=i,r&&r(i),rs(a,i,v.current))},[]),R=(0,l.useCallback)((e,t)=>{let{layout:r,panelDataArray:n}=N.current,{collapsedSize:a=0,collapsible:l}=t,{collapsedSize:s=0,collapsible:o,maxSize:i=100,minSize:d=0}=e.constraints,{panelSize:c}=ry(n,e,r);null!=c&&(l&&o&&t4(c,a)?t4(a,s)||P(e,s):c<d?P(e,d):c>i&&P(e,i))},[P]),_=(0,l.useCallback)((e,t)=>{let{direction:r}=j.current,{layout:n}=N.current;if(!x.current)return;let a=rn(e,x.current);t5(a,`Drag handle element not found for id "${e}"`);let l=rl(r,t);g({dragHandleId:e,dragHandleRect:a.getBoundingClientRect(),initialCursorPosition:l,initialLayout:n})},[]),L=(0,l.useCallback)(()=>{g(null)},[]),D=(0,l.useCallback)(e=>{let{panelDataArray:t}=N.current,r=rb(t,e);r>=0&&(t.splice(r,1),delete v.current[e.id],N.current.panelDataArrayChanged=!0,y())},[y]),q=(0,l.useMemo)(()=>({collapsePanel:M,direction:n,dragState:f,expandPanel:C,getPanelSize:z,getPanelStyle:S,groupId:p,isPanelCollapsed:E,isPanelExpanded:I,reevaluatePanelConstraints:R,registerPanel:$,registerResizeHandle:A,resizePanel:P,startDragging:_,stopDragging:L,unregisterPanel:D,panelGroupElement:x.current}),[M,f,n,C,z,S,p,E,I,R,$,A,P,_,L,D]);return(0,l.createElement)(tp.Provider,{value:q},(0,l.createElement)(u,{...m,children:t,className:r,id:s,ref:x,style:{display:"flex",flexDirection:"horizontal"===n?"row":"column",height:"100%",overflow:"hidden",width:"100%",...c},"data-panel-group":"",[tx]:n,[tf]:p}))}let rh=(0,l.forwardRef)((e,t)=>(0,l.createElement)(rg,{...e,forwardedRef:t}));function rb(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function ry(e,t,r){let n=rb(e,t),a=n===e.length-1,l=r[n];return{...t.constraints,panelSize:l,pivotIndices:a?[n-1,n]:[n,n+1]}}function rv({children:e=null,className:t="",disabled:r=!1,hitAreaMargins:n,id:a,onBlur:s,onClick:o,onDragging:i,onFocus:d,onPointerDown:c,onPointerUp:u,style:m={},tabIndex:p=0,tagName:x="div",...f}){var g,h;let b=(0,l.useRef)(null),y=(0,l.useRef)({onClick:o,onDragging:i,onPointerDown:c,onPointerUp:u});(0,l.useEffect)(()=>{y.current.onClick=o,y.current.onDragging=i,y.current.onPointerDown=c,y.current.onPointerUp=u});let v=(0,l.useContext)(tp);if(null===v)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:k,groupId:w,registerResizeHandle:j,startDragging:N,stopDragging:M,panelGroupElement:C}=v,z=tw(a),[S,E]=(0,l.useState)("inactive"),[I,$]=(0,l.useState)(!1),[A,P]=(0,l.useState)(null),R=(0,l.useRef)({state:S});tb(()=>{R.current.state=S}),(0,l.useEffect)(()=>{if(r)P(null);else{let e=j(z);P(()=>e)}},[r,z,j]);let _=null!=(g=null==n?void 0:n.coarse)?g:15,L=null!=(h=null==n?void 0:n.fine)?h:5;return(0,l.useEffect)(()=>{if(r||null==A)return;let e=b.current;t5(e,"Element ref not attached");let t=!1;return function(e,t,r,n,a){var l;let{ownerDocument:s}=t,o={direction:r,element:t,hitAreaMargins:n,setResizeHandlerState:a},i=null!=(l=tG.get(s))?l:0;return tG.set(s,i+1),tU.add(o),t1(),function(){var t;tB.delete(e),tU.delete(o);let r=null!=(t=tG.get(s))?t:1;if(tG.set(s,r-1),t1(),1===r&&tG.delete(s),tV.includes(o)){let e=tV.indexOf(o);e>=0&&tV.splice(e,1),tQ(),a("up",!0,null)}}}(z,e,k,{coarse:_,fine:L},(e,r,n)=>{if(!r)return void E("inactive");switch(e){case"down":{E("drag"),t=!1,t5(n,'Expected event to be defined for "down" action'),N(z,n);let{onDragging:e,onPointerDown:r}=y.current;null==e||e(!0),null==r||r();break}case"move":{let{state:e}=R.current;t=!0,"drag"!==e&&E("hover"),t5(n,'Expected event to be defined for "move" action'),A(n);break}case"up":{E("hover"),M();let{onClick:e,onDragging:r,onPointerUp:n}=y.current;null==r||r(!1),null==n||n(),t||null==e||e()}}})},[_,k,r,L,j,z,A,N,M]),!function({disabled:e,handleId:t,resizeHandler:r,panelGroupElement:n}){(0,l.useEffect)(()=>{if(e||null==r||null==n)return;let a=rn(t,n);if(null==a)return;let l=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),r(e);break;case"F6":{e.preventDefault();let r=a.getAttribute(tf);t5(r,`No group element found for id "${r}"`);let l=t7(r,n),s=re(r,t,n);t5(null!==s,`No resize element found for id "${t}"`);let o=e.shiftKey?s>0?s-1:l.length-1:s+1<l.length?s+1:0;l[o].focus()}}};return a.addEventListener("keydown",l),()=>{a.removeEventListener("keydown",l)}},[n,e,t,r])}({disabled:r,handleId:z,resizeHandler:A,panelGroupElement:C}),(0,l.createElement)(x,{...f,children:e,className:t,id:a,onBlur:()=>{$(!1),null==s||s()},onFocus:()=>{$(!0),null==d||d()},ref:b,role:"separator",style:{touchAction:"none",userSelect:"none",...m},tabIndex:p,[tx]:k,[tf]:w,[tg]:"","data-resize-handle-active":"drag"===S?"pointer":I?"keyboard":void 0,"data-panel-resize-handle-enabled":!r,[th]:z,"data-resize-handle-state":S})}rg.displayName="PanelGroup",rh.displayName="forwardRef(PanelGroup)",rv.displayName="PanelResizeHandle";let rk=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),rw=[],rj=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let n=e[t],a=r.nextPart.get(n);if(a){let r=rj(e,t+1,a);if(r)return r}let l=r.validators;if(null===l)return;let s=0===t?e.join("-"):e.slice(t).join("-"),o=l.length;for(let e=0;e<o;e++){let t=l[e];if(t.validator(s))return t.classGroupId}},rN=(e,t)=>{let r=rk();for(let n in e)rM(e[n],r,n,t);return r},rM=(e,t,r,n)=>{let a=e.length;for(let l=0;l<a;l++)rC(e[l],t,r,n)},rC=(e,t,r,n)=>{"string"==typeof e?rz(e,t,r):"function"==typeof e?rS(e,t,r,n):rE(e,t,r,n)},rz=(e,t,r)=>{(""===e?t:rI(t,e)).classGroupId=r},rS=(e,t,r,n)=>{r$(e)?rM(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},rE=(e,t,r,n)=>{let a=Object.entries(e),l=a.length;for(let e=0;e<l;e++){let[l,s]=a[e];rM(s,rI(t,l),r,n)}},rI=(e,t)=>{let r=e,n=t.split("-"),a=n.length;for(let e=0;e<a;e++){let t=n[e],a=r.nextPart.get(t);a||(a=rk(),r.nextPart.set(t,a)),r=a}return r},r$=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,rA=[],rP=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),rR=/\s+/,r_=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=r_(e[n]))&&(r&&(r+=" "),r+=t);return r},rL=[],rD=e=>{let t=t=>t[e]||rL;return t.isThemeGetter=!0,t},rq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rW=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rO=/^\d+\/\d+$/,rT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rB=e=>rO.test(e),rU=e=>!!e&&!Number.isNaN(Number(e)),rJ=e=>!!e&&Number.isInteger(Number(e)),rZ=e=>e.endsWith("%")&&rU(e.slice(0,-1)),rK=e=>rT.test(e),rX=()=>!0,rY=e=>rH.test(e)&&!rV.test(e),rQ=()=>!1,r0=e=>rF.test(e),r1=e=>rG.test(e),r2=e=>!r3(e)&&!nr(e),r5=e=>nc(e,nx,rQ),r3=e=>rq.test(e),r4=e=>nc(e,nf,rY),r6=e=>nc(e,ng,rU),r8=e=>nc(e,nb,rX),r9=e=>nc(e,nh,rQ),r7=e=>nc(e,nm,rQ),ne=e=>nc(e,np,r1),nt=e=>nc(e,ny,r0),nr=e=>rW.test(e),nn=e=>nu(e,nf),na=e=>nu(e,nh),nl=e=>nu(e,nm),ns=e=>nu(e,nx),no=e=>nu(e,np),ni=e=>nu(e,ny,!0),nd=e=>nu(e,nb,!0),nc=(e,t,r)=>{let n=rq.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},nu=(e,t,r=!1)=>{let n=rW.exec(e);return!!n&&(n[1]?t(n[1]):r)},nm=e=>"position"===e||"percentage"===e,np=e=>"image"===e||"url"===e,nx=e=>"length"===e||"size"===e||"bg-size"===e,nf=e=>"length"===e,ng=e=>"number"===e,nh=e=>"family-name"===e,nb=e=>"number"===e||"weight"===e,ny=e=>"shadow"===e,nv=((e,...t)=>{let r,n,a,l,s=e=>{let t=n(e);if(t)return t;let l=((e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:l}=t,s=[],o=e.trim().split(rR),i="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{isExternal:d,modifiers:c,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=r(t);if(d){i=t+(i.length>0?" "+i:i);continue}let x=!!p,f=n(x?m.substring(0,p):m);if(!f){if(!x||!(f=n(m))){i=t+(i.length>0?" "+i:i);continue}x=!1}let g=0===c.length?"":1===c.length?c[0]:l(c).join(":"),h=u?g+"!":g,b=h+f;if(s.indexOf(b)>-1)continue;s.push(b);let y=a(f,x);for(let e=0;e<y.length;++e){let t=y[e];s.push(h+t)}i=t+(i.length>0?" "+i:i)}return i})(e,r);return a(e,l),l};return l=o=>{var i;let d;return n=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null),a=(a,l)=>{r[a]=l,++t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}})((i=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t,r=[],n=0,a=0,l=0,s=e.length;for(let o=0;o<s;o++){let s=e[o];if(0===n&&0===a){if(":"===s){r.push(e.slice(l,o)),l=o+1;continue}if("/"===s){t=o;continue}}"["===s?n++:"]"===s?n--:"("===s?a++:")"===s&&a--}let o=0===r.length?e:e.slice(l),i=o,d=!1;return o.endsWith("!")?(i=o.slice(0,-1),d=!0):o.startsWith("!")&&(i=o.slice(1),d=!0),rP(r,d,i,t&&t>l?t-l:void 0)};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):rP(rA,!1,t,void 0,!0)}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n})(i),sortModifiers:(d=new Map,i.orderSensitiveModifiers.forEach((e,t)=>{d.set(e,1e6+t)}),e=>{let t=[],r=[];for(let n=0;n<e.length;n++){let a=e[n],l="["===a[0],s=d.has(a);l||s?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(a)):r.push(a)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return rN(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,n,a;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(n=(t=r.slice(1,-1)).indexOf(":"),(a=t.slice(0,n))?"arbitrary.."+a:void 0)}let n=e.split("-"),a=+(""===n[0]&&n.length>1);return rj(n,a,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=n[e],a=r[e];if(t){if(a){let e=Array(a.length+t.length);for(let t=0;t<a.length;t++)e[t]=a[t];for(let r=0;r<t.length;r++)e[a.length+r]=t[r];return e}return t}return a||rw}return r[e]||rw}}})(i)}).cache.get,a=r.cache.set,l=s,s(o)},(...e)=>l(((...e)=>{let t,r,n=0,a="";for(;n<e.length;)(t=e[n++])&&(r=r_(t))&&(a&&(a+=" "),a+=r);return a})(...e))})(()=>{let e=rD("color"),t=rD("font"),r=rD("text"),n=rD("font-weight"),a=rD("tracking"),l=rD("leading"),s=rD("breakpoint"),o=rD("container"),i=rD("spacing"),d=rD("radius"),c=rD("shadow"),u=rD("inset-shadow"),m=rD("text-shadow"),p=rD("drop-shadow"),x=rD("blur"),f=rD("perspective"),g=rD("aspect"),h=rD("ease"),b=rD("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...v(),nr,r3],w=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],N=()=>[nr,r3,i],M=()=>[rB,"full","auto",...N()],C=()=>[rJ,"none","subgrid",nr,r3],z=()=>["auto",{span:["full",rJ,nr,r3]},rJ,nr,r3],S=()=>[rJ,"auto",nr,r3],E=()=>["auto","min","max","fr",nr,r3],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",...N()],P=()=>[rB,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],R=()=>[e,nr,r3],_=()=>[...v(),nl,r7,{position:[nr,r3]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",ns,r5,{size:[nr,r3]}],q=()=>[rZ,nn,r4],W=()=>["","none","full",d,nr,r3],O=()=>["",rU,nn,r4],T=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[rU,rZ,nl,r7],F=()=>["","none",x,nr,r3],G=()=>["none",rU,nr,r3],B=()=>["none",rU,nr,r3],U=()=>[rU,nr,r3],J=()=>[rB,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rK],breakpoint:[rK],color:[rX],container:[rK],"drop-shadow":[rK],ease:["in","out","in-out"],font:[r2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rK],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rK],shadow:[rK],spacing:["px",rU],text:[rK],"text-shadow":[rK],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rB,r3,nr,g]}],container:["container"],columns:[{columns:[rU,r3,nr,o]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[rJ,"auto",nr,r3]}],basis:[{basis:[rB,"full","auto",o,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rU,rB,"auto","initial","none",r3]}],grow:[{grow:["",rU,nr,r3]}],shrink:[{shrink:["",rU,nr,r3]}],order:[{order:[rJ,"first","last","none",nr,r3]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[o,"screen",...P()]}],"min-w":[{"min-w":[o,"screen","none",...P()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,nn,r4]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,nd,r8]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rZ,r3]}],"font-family":[{font:[na,r9,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,nr,r3]}],"line-clamp":[{"line-clamp":[rU,"none",nr,r6]}],leading:[{leading:[l,...N()]}],"list-image":[{"list-image":["none",nr,r3]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nr,r3]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:[rU,"from-font","auto",nr,r4]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[rU,"auto",nr,r3]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nr,r3]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nr,r3]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:_()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rJ,nr,r3],radial:["",nr,r3],conic:[rJ,nr,r3]},no,ne]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...T(),"hidden","none"]}],"divide-style":[{divide:[...T(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...T(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rU,nr,r3]}],"outline-w":[{outline:["",rU,nn,r4]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",c,ni,nt]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",u,ni,nt]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[rU,r4]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",m,ni,nt]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[rU,nr,r3]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rU]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[nr,r3]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[rU]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:_()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nr,r3]}],filter:[{filter:["","none",nr,r3]}],blur:[{blur:F()}],brightness:[{brightness:[rU,nr,r3]}],contrast:[{contrast:[rU,nr,r3]}],"drop-shadow":[{"drop-shadow":["","none",p,ni,nt]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",rU,nr,r3]}],"hue-rotate":[{"hue-rotate":[rU,nr,r3]}],invert:[{invert:["",rU,nr,r3]}],saturate:[{saturate:[rU,nr,r3]}],sepia:[{sepia:["",rU,nr,r3]}],"backdrop-filter":[{"backdrop-filter":["","none",nr,r3]}],"backdrop-blur":[{"backdrop-blur":F()}],"backdrop-brightness":[{"backdrop-brightness":[rU,nr,r3]}],"backdrop-contrast":[{"backdrop-contrast":[rU,nr,r3]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rU,nr,r3]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rU,nr,r3]}],"backdrop-invert":[{"backdrop-invert":["",rU,nr,r3]}],"backdrop-opacity":[{"backdrop-opacity":[rU,nr,r3]}],"backdrop-saturate":[{"backdrop-saturate":[rU,nr,r3]}],"backdrop-sepia":[{"backdrop-sepia":["",rU,nr,r3]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nr,r3]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rU,"initial",nr,r3]}],ease:[{ease:["linear","initial",h,nr,r3]}],delay:[{delay:[rU,nr,r3]}],animate:[{animate:["none",b,nr,r3]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,nr,r3]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[nr,r3,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nr,r3]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nr,r3]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[rU,nn,r4,r6]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function nk(...e){return nv(function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(n&&(n+=" "),n+=t);return n}(e))}function nw({className:e,...t}){return(0,a.jsx)(rh,{"data-slot":"resizable-panel-group",className:nk("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function nj({...e}){return(0,a.jsx)(tN,{"data-slot":"resizable-panel",...e})}function nN({withHandle:e,className:t,...r}){return(0,a.jsx)(rv,{"data-slot":"resizable-handle",className:nk("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&(0,a.jsx)("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:(0,a.jsx)(tm,{className:"size-2.5"})})})}let nM={model:"default",reasoningEffort:"medium",approvalPreset:"auto",sandboxMode:"read-only",mcpServers:[],sessions:[],fileChanges:[],activePanel:null},nC="alicia.codex.models.catalog.v1",nz="__alicia_auto_terminal_boot_done__";function nS(e){return{model:e.model.trim()||"default",reasoningEffort:["none","minimal","low","medium","high","xhigh"].includes(e.reasoning)?e.reasoning:"medium",approvalPreset:"read-only"===e.approvalPreset||"auto"===e.approvalPreset||"full-access"===e.approvalPreset?e.approvalPreset:"read-only"===e.sandbox?"read-only":"danger-full-access"===e.sandbox&&"never"===e.approvalPolicy?"full-access":"auto",sandboxMode:"read-only"===e.sandbox||"workspace-write"===e.sandbox||"danger-full-access"===e.sandbox?e.sandbox:"read-only"}}function nE(){let[t,r]=(0,l.useState)(!0),[n,s]=(0,l.useState)("Initializing Alicia runtime..."),[o,i]=(0,l.useState)([]),[d,c]=(0,l.useState)(!1),[f,h]=(0,l.useState)([]),[b,y]=(0,l.useState)([]),[v,k]=(0,l.useState)("list"),[w,j]=(0,l.useState)([]),[N,M]=(0,l.useState)(null),[C,z]=(0,l.useState)(nM),[S,E]=(0,l.useState)([]),[I,$]=(0,l.useState)(!1),[A,P]=(0,l.useState)(null),[_,L]=(0,l.useState)(null),[D,q]=(0,l.useState)(!1),[W,T]=(0,l.useState)({connected:e2(),state:"idle",sessionId:null,pid:null,workspace:"."}),H=(0,l.useRef)(1),V=(0,l.useRef)(null),F=(0,l.useRef)(null),G=(0,l.useRef)(null),B=(0,l.useRef)(null),U=(0,l.useRef)(null),J=(0,l.useRef)(null),Z=(0,l.useRef)(new Map),K=(0,l.useRef)(null),X=(0,l.useRef)(null),Y=(0,l.useRef)(null),Q=(0,l.useRef)(new Set),ee=(0,l.useRef)(new Map),et=(0,l.useRef)(!1),er=(0,l.useRef)(!1);(0,l.useEffect)(()=>{K.current=N},[N]),(0,l.useEffect)(()=>{let e=function(){try{let e=window.localStorage.getItem(nC);if(!e)return null;let t=JSON.parse(e);if("number"!=typeof t.cachedAt||!Number.isFinite(t.cachedAt)||!Array.isArray(t.data))return null;return{cachedAt:t.cachedAt,data:t.data}}catch{return null}}();e&&0!==e.data.length&&(E(e.data),L(e.cachedAt),q(!0))},[]);let en=(0,l.useCallback)(()=>(H.current+=1,H.current),[]),ea=(0,l.useCallback)((e,t)=>{t.trim()&&i(r=>[...r,{id:en(),type:e,content:t,timestamp:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}])},[en]),el=(0,l.useCallback)((e,t)=>{z(r=>{let n=`session-${e}`,a=r.sessions.find(e=>e.id===n);return{...r,sessions:[{id:n,name:a?.name??`Session ${e}`,time:new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),active:!0,messageCount:a?.messageCount??0,model:a?.model??t??r.model},...r.sessions.filter(e=>e.id!==n).map(e=>({...e,active:!1}))].slice(0,20)}})},[]),es=(0,l.useCallback)(async()=>{try{let e=(await tr(["mcp","list"])).stdout.split(/\r?\n/).map(e=>e.trim()).filter(Boolean).map(e=>{let t=e.split(/\s+/)[0],r="disconnected";return/(connected|online|ready|ok)/i.test(e)?r="connected":/(error|failed|offline)/i.test(e)&&(r="error"),{id:t.toLowerCase().replace(/[^a-z0-9_-]/g,"-"),name:t,status:r,transport:/sse/i.test(e)?"sse":"stdio",tools:[]}});z(t=>({...t,mcpServers:e}))}catch{}},[]),eo=(0,l.useCallback)(async(e=!1)=>{if(!W.connected){let t="runtime disconnected; cannot list models";return P(t),q(S.length>0),e&&ea("system",`[models] ${t}`),S}$(!0),P(null);try{let t=(await tn()).data??[];E(t);let r=Date.now();L(r),q(!1);try{window.localStorage.setItem(nC,JSON.stringify({cachedAt:r,data:t}))}catch{}if(0===t.length){let t="codex returned no available models";P(t),e&&ea("system",`[models] ${t}`)}return t}catch(r){let t=String(r);return P(t),q(S.length>0),e&&(S.length>0?ea("system",`[models] live refresh failed, using cached catalog: ${t}`):ea("system",`[models] failed: ${t}`)),S}finally{$(!1)}},[ea,S,W.connected]),ei=(0,l.useCallback)(async(e=!1)=>{if(z(e=>({...e,activePanel:"model"})),!I){if(S.length>0)return void eo(!1);await eo(e)}},[S.length,I,eo]),ed=(0,l.useCallback)(async(e=!1)=>{if(!W.connected)return!1;try{if(e&&null!=W.sessionId&&(await e9(),J.current=null,Q.current.clear(),ee.current.clear(),T(e=>({...e,state:"idle",sessionId:null,pid:null}))),!e&&null!=W.sessionId)return!0;T(e=>({...e,state:"starting"}));let t=await e8();return T(e=>({...e,state:"running",sessionId:t.sessionId,pid:t.pid})),el(t.sessionId,C.model),ea("system",`[session] started #${t.sessionId}`),!0}catch(e){return T(e=>({...e,state:"error"})),ea("system",`[session] failed to start: ${String(e)}`),!1}},[ea,C.model,W.connected,W.sessionId,el]),ec=(0,l.useCallback)(async e=>{if(!W.connected)return!1;try{let t=await tl({cwd:e});Z.current.set(t.terminalId,""),j(e=>[...e,{id:t.terminalId,title:`Terminal ${t.terminalId}`,alive:!0}]),M(t.terminalId);let r=X.current;return r&&(to(t.terminalId,r.cols,r.rows),r.focus()),!0}catch(e){return ea("system",`[terminal] failed to start: ${String(e)}`),!1}},[ea,W.connected]),em=(0,l.useCallback)(async e=>{try{await ti(e)}catch{}Z.current.delete(e),j(t=>{let r=t.filter(t=>t.id!==e);return M(t=>t!==e?t:r[0]?.id??null),r})},[]),ep=(0,l.useCallback)(e=>{if("lifecycle"===e.type){"error"===e.payload.status&&(T(e=>({...e,state:"error"})),c(!1),ee.current.clear(),ea("system",e.payload.message??"runtime error")),"stopped"===e.payload.status&&(T(e=>({...e,state:"idle",sessionId:null,pid:null})),c(!1),ee.current.clear());return}if("stdout"===e.type&&e.payload.chunk.trim()||"stderr"===e.type&&e.payload.chunk.trim())return void ea("system",e.payload.chunk);if("event"!==e.type)return;let t=e.payload.event,r=e.payload.seq;if(r>0){let e=Q.current;if(e.has(r))return;if(e.add(r),e.size>8e3){let t=e.values().next().value;void 0!==t&&e.delete(t)}}let n=String(t.type??"");if("thread.started"===n){let e=String(t.thread_id??"");ea("system",`[thread] started ${e}`);return}if("turn.started"===n)return void c(!0);if("turn.completed"===n){c(!1),ee.current.clear();return}if("turn.failed"===n){c(!1),ee.current.clear();let e=t.error;ea("system",`[turn failed] ${String(e?.message??"unknown")}`);return}if("item.started"===n||"item.updated"===n||"item.completed"===n){let e=t.item??{},r=String(e.type??""),a="string"==typeof e.id&&e.id.trim().length>0?e.id:"number"==typeof e.id&&Number.isFinite(e.id)?String(e.id):null;if("agent_message"===r){if("item.updated"===n){let t=String(e.text??"");a&&t.length>0&&ee.current.set(a,t);return}if("item.completed"===n){let t=String(e.text??""),r=a?ee.current.get(a)??"":"";a&&ee.current.delete(a);let n=t.trim().length>0?t:r;n.trim().length>0&&ea("agent",n)}return}if("item.completed"!==n)return;let l=function(e){let t=String(e.type??"");if("agent_message"===t){let t=String(e.text??"");return t.trim()?t:null}if("command_execution"===t){let t=String(e.command??"command"),r=String(e.status??"in_progress"),n=String(e.aggregated_output??"");return`[command:${r}] ${t}${n?`
${n}`:""}`}return"mcp_tool_call"===t?`[mcp:${String(e.status??"in_progress")}] ${String(e.tool??"tool")}`:"file_change"===t?"[file_change] changes applied":"reasoning"===t?`[reasoning]
${String(e.text??"")}`:"error"===t?`[error] ${String(e.message??"unknown")}`:null}(e);l&&ea("system",l)}},[ea]),ex=(0,l.useCallback)(e=>{if("data"===e.type){let t,{terminalId:r,chunk:n}=e.payload,a=Z.current.get(r)??"";Z.current.set(r,(t=`${a}${n}`).length<=4e5?t:t.slice(t.length-4e5)),K.current===r&&X.current&&X.current.write(n);return}j(t=>t.map(t=>t.id===e.payload.terminalId?{...t,alive:!1}:t))},[]);(0,l.useEffect)(()=>{V.current&&(V.current.scrollTop=V.current.scrollHeight)},[o,d]),(0,l.useEffect)(()=>{let r;if(t)return;let n=F.current;if(!n)return;let a=!1;return(async()=>{let[{Terminal:t},{FitAddon:l}]=await Promise.all([e.A(14622),e.A(20667)]);if(a)return;let s=new t({convertEol:!0,cursorBlink:!0,fontFamily:"JetBrains Mono, monospace",fontSize:13,scrollback:5e3,theme:{background:"#1e1f22",foreground:"#c5cfd9",cursor:"#39CC9B"}}),o=new l;s.loadAddon(o),s.open(n),o.fit(),s.focus(),X.current=s,Y.current=o;let i=K.current;if(null!=i){let e=Z.current.get(i)??"";e&&s.write(e),s.cols>0&&s.rows>0&&to(i,s.cols,s.rows)}let d=s.onData(e=>{let t=K.current;null!=t&&ts(t,e)}),c=()=>{s.focus()};n.addEventListener("mousedown",c);let u=new ResizeObserver(()=>{o.fit();let e=K.current;null!=e&&s.cols>0&&s.rows>0&&to(e,s.cols,s.rows)});u.observe(n),r=()=>{n.removeEventListener("mousedown",c),u.disconnect(),d.dispose(),s.dispose(),X.current=null,Y.current=null}})(),()=>{a=!0,r?.()}},[t]),(0,l.useEffect)(()=>{let e=X.current;if(e&&(e.reset(),null!=N)){let t=Z.current.get(N)??"";t&&e.write(t),Y.current&&Y.current.fit(),e.focus(),e.cols>0&&e.rows>0&&to(N,e.cols,e.rows)}},[N]),(0,l.useEffect)(()=>{if(et.current)return;et.current=!0;let e=!0;return(async()=>{if(s("Initializing Alicia runtime..."),!e2()){T(e=>({...e,connected:!1})),ea("system","Alicia running in web mode. Launch with Tauri for full runtime."),r(!1);return}s("Connecting runtime bridge..."),G.current=await e5(ep),B.current=await e3(ex);try{let t=await e6();U.current=t;let r=nS(t);e&&z(e=>({...e,...r}))}catch{}let t=await e4();if(!e)return;U.current=t.runtimeConfig,T(e=>({...e,connected:!0,state:null!=t.sessionId?"running":"idle",sessionId:t.sessionId??null,pid:t.pid??null,workspace:t.workspace}));let n=null!=t.sessionId;if(null!=t.sessionId?el(t.sessionId,nS(t.runtimeConfig).model):(s("Starting Codex session..."),n=await ed(!1)),n){s("Loading MCP servers...");try{let e=await ta();e.totalReady>0?ea("system",`[mcp] startup complete: ${e.totalReady} server(s) ready in ${e.elapsedMs}ms`):ea("system","[mcp] startup complete: no active MCP servers")}catch(e){ea("system",`[mcp] startup check failed: ${String(e)}`)}}(s("Syncing runtime metadata..."),tu(),await eo(!1),await es(),!er.current&&!0!==window[nz]&&await ec(t.workspace))&&(er.current=!0,window[nz]=!0);e&&r(!1)})(),()=>{e=!1,G.current?.(),B.current?.()}},[]);let ef=(0,l.useCallback)(async e=>{let t=e.trim();if(!t&&0===b.length&&0===f.length||(ea("user",[t,b.join(" "),f.join(" ")].filter(Boolean).join("\n")),!await ed(!1)))return;let r=[];t&&r.push({type:"text",text:t}),b.forEach(e=>r.push({type:"mention",path:e})),f.forEach(e=>r.push({type:"local_image",path:e})),0===r.length&&r.push({type:"text",text:""}),c(!0);try{let e=await e7({threadId:J.current??void 0,inputItems:r});e.threadId&&(J.current=e.threadId),h([]),y([])}catch(e){c(!1),ea("system",`[turn] failed: ${String(e)}`)}},[ea,ed,f,b]),eg=(0,l.useCallback)(async e=>{if("/model"===e||"/models"===e)return void await ei(!0);if("/permissions"===e||"/approvals"===e)return void z(e=>({...e,activePanel:"permissions"}));if("/mcp"===e){z(e=>({...e,activePanel:"mcp"})),await es();return}if("/resume"===e){k("resume"),z(e=>({...e,activePanel:"sessions"}));return}if("/fork"===e){k("fork"),z(e=>({...e,activePanel:"sessions"}));return}if("/new"===e){J.current=null,await ed(!0);return}if("/status"===e){if(!await ed(!1))return;try{await te("/status")}catch(e){ea("system",`[status] failed: ${String(e)}`)}return}if("/quit"===e||"/exit"===e){await e9(),T(e=>({...e,state:"idle",sessionId:null,pid:null}));return}await ef(e)},[ed,ef,ei,es]),eh=(0,l.useCallback)((e,t)=>{let r=U.current;if(!r)return void ea("system","[model] runtime config not loaded");let n=S.find(t=>t.id===e),a=t;if(n&&!n.supportedReasoningEfforts.some(e=>e.reasoningEffort===t)){let e=n.defaultReasoningEffort||n.supportedReasoningEfforts[0]?.reasoningEffort||"medium";a=e,ea("system",`[model] reasoning adjusted to ${e} for ${n.displayName}`)}let l={...r,model:e,reasoning:a};U.current=l,z(t=>({...t,model:e,reasoningEffort:a,activePanel:null})),tt(l).catch(e=>{ea("system",`[model] failed to persist: ${String(e)}`)})},[ea,S]),eb=(0,l.useCallback)(e=>{let t=U.current;if(!t)return;let r=R[e],n={...t,approvalPreset:e,approvalPolicy:"full-access"===e?"never":"on-request",sandbox:r.sandboxMode,profile:"read-only"===e?"read_only":"full-access"===e?"full_access":"read_write_with_approval"};U.current=n,z(t=>({...t,approvalPreset:e,sandboxMode:r.sandboxMode,activePanel:null})),tt(n)},[]),ey=(0,l.useCallback)(async(e,t)=>{"fork"===t?await tr(["fork","--last"]):await tr(["resume","--last"]),z(e=>({...e,activePanel:null}))},[]),ev=(0,l.useMemo)(()=>{let e=S.find(e=>e.id===C.model);return e?e.displayName:"default"===C.model?S.find(e=>e.isDefault)?.displayName||"Codex Default":C.model},[C.model,S]);return t?(0,a.jsx)("div",{className:"h-screen w-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-terminal-fg/80 text-sm",children:[(0,a.jsx)(u,{className:"w-4 h-4 text-terminal-green spin-slow"}),n]})}):(0,a.jsxs)("div",{className:"h-screen w-screen flex flex-col bg-background overflow-hidden",children:[(0,a.jsx)(g,{connected:W.connected,workspace:W.workspace}),(0,a.jsxs)(nw,{direction:"horizontal",className:"flex-1 min-h-0",children:[(0,a.jsx)(nj,{defaultSize:20,minSize:14,maxSize:28,children:(0,a.jsx)(O,{state:C,modelLabel:ev,sessionPid:W.pid,runtimeState:W.state,onOpenPanel:e=>{"model"===e?ei(!0):("sessions"===e&&k("list"),z(t=>({...t,activePanel:e})))},onStartSession:()=>{J.current=null,ed(!0)},onStopSession:()=>{e9(),T(e=>({...e,state:"idle",sessionId:null,pid:null}))},onResumeSession:()=>{k("resume"),z(e=>({...e,activePanel:"sessions"}))},onForkSession:()=>{k("fork"),z(e=>({...e,activePanel:"sessions"}))}})}),(0,a.jsx)(nN,{withHandle:!0}),(0,a.jsx)(nj,{defaultSize:80,minSize:60,children:(0,a.jsxs)(nw,{direction:"vertical",children:[(0,a.jsx)(nj,{defaultSize:62,minSize:40,children:(0,a.jsxs)("div",{className:"h-full flex flex-col min-h-0",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-panel-border text-xs text-muted-foreground",children:["Structured conversation | model ",ev," [",C.reasoningEffort,"]"]}),(0,a.jsxs)("div",{ref:V,className:"flex-1 overflow-y-auto",children:[o.map(e=>(0,a.jsx)(eu,{type:e.type,content:e.content,timestamp:e.timestamp},e.id)),d&&(0,a.jsx)(eu,{type:"agent",content:"",thinking:!0})]}),(0,a.jsx)(e$,{onSubmit:ef,onSlashCommand:eg,onAttachImage:async()=>{let e=await td();e&&h(t=>[...t,e])},onAttachMention:async()=>{let e=await tc();e&&y(t=>[...t,e])},onRemoveImage:e=>{h(t=>t.filter((t,r)=>r!==e))},onRemoveMention:e=>{y(t=>t.filter((t,r)=>r!==e))},pendingImages:f,pendingMentions:b,disabled:"starting"===W.state||"stopping"===W.state})]})}),(0,a.jsx)(nN,{withHandle:!0}),(0,a.jsx)(nj,{defaultSize:38,minSize:20,children:(0,a.jsxs)("div",{className:"h-full flex flex-col border-t border-panel-border bg-terminal-bg",children:[(0,a.jsxs)("div",{className:"h-9 border-b border-panel-border px-2 flex items-center gap-1 overflow-x-auto",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-1 text-[10px] text-muted-foreground px-2",children:[(0,a.jsx)(p,{className:"w-3.5 h-3.5 text-terminal-blue"}),"Terminal"]}),w.map(e=>(0,a.jsxs)("button",{onClick:()=>M(e.id),className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs border ${e.id===N?"border-terminal-blue/40 bg-terminal-blue/10 text-terminal-fg":"border-transparent text-muted-foreground hover:bg-panel-bg"}`,children:[(0,a.jsx)("span",{children:e.title}),!e.alive&&(0,a.jsx)("span",{className:"text-terminal-red",children:"exit"}),(0,a.jsx)("span",{className:"ml-1 hover:text-terminal-red",onClick:t=>{t.stopPropagation(),em(e.id)},children:(0,a.jsx)(x,{className:"w-3 h-3"})})]},e.id)),(0,a.jsxs)("button",{onClick:()=>{ec(W.workspace)},className:"ml-auto inline-flex items-center gap-1 px-2 py-1 rounded text-xs border border-panel-border text-muted-foreground hover:bg-panel-bg",children:[(0,a.jsx)(m,{className:"w-3.5 h-3.5"}),"New terminal"]})]}),(0,a.jsx)("div",{className:"px-3 py-1 text-[10px] text-muted-foreground/70 border-b border-panel-border/70",children:"Click inside the terminal pane to run local shell commands."}),(0,a.jsx)("div",{className:"flex-1 min-h-0 p-2",children:(0,a.jsx)("div",{ref:F,className:"h-full w-full rounded border border-panel-border bg-terminal-bg"})})]})})]})})]}),(0,a.jsx)(eL,{state:C,modelLabel:ev,runtime:{connected:W.connected,state:W.state,sessionId:W.sessionId},onOpenPanel:e=>{"model"===e?ei(!0):("sessions"===e&&k("list"),z(t=>({...t,activePanel:e})))}}),"model"===C.activePanel&&(0,a.jsx)(eO,{currentModel:C.model,currentEffort:C.reasoningEffort,models:S,loading:I,error:A,cachedAt:_,stale:D,onRetry:()=>{eo(!0)},onSelect:eh,onClose:()=>z(e=>({...e,activePanel:null}))}),"permissions"===C.activePanel&&(0,a.jsx)(eF,{currentPreset:C.approvalPreset,currentSandbox:C.sandboxMode,onSelect:eb,onClose:()=>z(e=>({...e,activePanel:null}))}),"mcp"===C.activePanel&&(0,a.jsx)(eZ,{servers:C.mcpServers,onClose:()=>z(e=>({...e,activePanel:null}))}),"sessions"===C.activePanel&&(0,a.jsx)(eK,{sessions:C.sessions,mode:v,onSelect:ey,onNewSession:()=>{J.current=null,ed(!0)},onClose:()=>z(e=>({...e,activePanel:null}))})]})}e.s(["default",()=>nE],31713)}]);